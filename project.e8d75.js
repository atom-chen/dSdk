 window.__require=function t(e,i,n){function o(a,r){if(!i[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var h="function"==typeof __require&&__require;if(!r&&h)return h(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+a+"'")}}var l=i[a]={exports:{}};e[a][0].call(l.exports,function(t){return o(e[a][1][t]||t)},l,l.exports,t,e,i,n)}return i[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<n.length;a++)o(n[a]);return o}({FriendListAdapter:[function(t,e,i){"use strict";cc._RF.push(e,"c121dpwNzBAzKRon+brUe2e","FriendListAdapter");var n=t("./FriendListView"),o=t("./inviteItem");cc.Class({extends:n.AbsAdapter,updateView:function(t,e){var i=t.getComponent(o);i&&i.setData(this.getItem(e))}}),cc._RF.pop()},{"./FriendListView":"FriendListView","./inviteItem":"inviteItem"}],FriendListView:[function(t,e,i){"use strict";cc._RF.push(e,"bbe8dypDZ1C26vME1/zVkFn","FriendListView"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemTemplate=null,e.spacing=1,e.spawnCount=2,e.scrollView=null,e.content=null,e.adapter=null,e._items=new cc.NodePool,e._filledIds={},e.horizontal=!1,e._itemHeight=1,e._itemWidth=1,e._itemsVisible=1,e.lastStartIndex=-1,e.scrollTopNotifyed=!1,e.scrollBottomNotifyed=!1,e.pullDownCallback=null,e.pullUpCallback=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.scrollView?(this.content=this.scrollView.content,this.horizontal=this.scrollView.horizontal,this.horizontal?(this.scrollView.vertical=!1,this.content.anchorX=0,this.content.x=this.content.parent.width*this.content.parent.anchorX):(this.scrollView.vertical=!0,this.content.anchorY=1,this.content.y=this.content.parent.height*this.content.parent.anchorY)):console.error("ListView need a scrollView for showing.");var t=this._items.get()||cc.instantiate(this.itemTemplate);this._items.put(t),this._itemHeight=t.height||10,this._itemWidth=t.width||10,this.horizontal?this._itemsVisible=Math.ceil(this.content.parent.width/this._itemWidth):this._itemsVisible=Math.ceil(this.content.parent.height/this._itemHeight),console.log("\u53ef\u89c1\u533a\u57df\u7684item\u6570\u91cf\u4e3a:",this._itemsVisible),this.adjustEvent()},e.prototype.setAdapter=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return this.adapter=t,null==this.adapter?(console.warn("adapter \u4e3a\u7a7a."),[2]):null==this.itemTemplate?(console.error("Listview \u672a\u8bbe\u7f6e\u5f85\u663e\u793a\u7684Item\u6a21\u677f."),[2]):(this.notifyUpdate(),[2])})})},e.prototype.getItemIndex=function(t){return Math.floor(Math.abs(t/(this._itemHeight+this.spacing)))},e.prototype.getPositionInView=function(t){var e=t.parent.convertToWorldSpaceAR(t.position);return this.scrollView.node.convertToNodeSpaceAR(e)},e.prototype.notifyUpdate=function(t){var e=this;null!=this.adapter&&(t&&t.length>0?t.forEach(function(t){e._filledIds.hasOwnProperty(t)&&delete e._filledIds[t]}):Object.keys(this._filledIds).forEach(function(t){delete e._filledIds[t]}),this.lastStartIndex=-1,this.horizontal?this.content.width=this.adapter.getCount()*(this._itemWidth+this.spacing)+this.spacing:this.content.height=this.adapter.getCount()*(this._itemHeight+this.spacing)+this.spacing,this.scrollView.scrollToTop())},e.prototype.scrollToTop=function(t){void 0===t&&(t=!1),this.scrollView.scrollToTop(t?1:0)},e.prototype.scrollToBottom=function(t){void 0===t&&(t=!1),this.scrollView.scrollToBottom(t?1:0)},e.prototype.scrollToLeft=function(t){void 0===t&&(t=!1),this.scrollView.scrollToLeft(t?1:0)},e.prototype.scrollToRight=function(t){void 0===t&&(t=!1),this.scrollView.scrollToRight(t?1:0)},e.prototype.pullDown=function(t,e){this.pullDownCallback=t.bind(e)},e.prototype.pullUp=function(t,e){this.pullUpCallback=t.bind(e)},e.prototype.update=function(t){var e=this.checkNeedUpdate();e>=0&&this.updateView(e)},e.prototype._layoutVertical=function(t,e){this.content.addChild(t),t._tag=e,this._filledIds[e]=e,t.setPosition(0,-t.height*(.5+e)-this.spacing*(e+1))},e.prototype._layoutHorizontal=function(t,e){this.content.addChild(t),t._tag=e,this._filledIds[e]=e,t.setPosition(-(-t.width*(.5+e)-this.spacing*(e+1)),0)},e.prototype.getRecycleItems=function(t,e){var i=this,n=[];return this.content.children.forEach(function(o){(o._tag<t||o._tag>e)&&(n.push(o),delete i._filledIds[o._tag])}),n},e.prototype.updateView=function(t){var e=this,i=t,n=i+this._itemsVisible+(this.spawnCount||2),o=this.adapter.getCount();if(!(i>=o)){n>o?(n=o,this.scrollBottomNotifyed||(this.notifyScrollToBottom(),this.scrollBottomNotifyed=!0)):this.scrollBottomNotifyed=!1,this.getRecycleItems(i-(this.spawnCount||2),n).forEach(function(t){e._items.put(t)});for(var s=0,a=this.findUpdateIndex(i,n);s<a.length;s++){var r=a[s],c=this.adapter._getView(this._items.get()||cc.instantiate(this.itemTemplate),r);this.horizontal?this._layoutHorizontal(c,r):this._layoutVertical(c,r)}}},e.prototype.checkNeedUpdate=function(){if(null==this.adapter)return-1;var t;this.horizontal?t=this.content.parent.width*(this.content.parent.anchorX-1)-this.content.x:(this.content.y,this.content.parent.height,this.content.parent.anchorY);var e=Math.floor(t/((this.horizontal?this._itemWidth:this._itemHeight)+this.spacing));return e<0&&!this.scrollTopNotifyed?(this.notifyScrollToTop(),this.scrollTopNotifyed=!0,e):(e>0&&(this.scrollTopNotifyed=!1),this.lastStartIndex!=e?(this.lastStartIndex=e,e):-1)},e.prototype.findUpdateIndex=function(t,e){for(var i=[],n=t;n<e;n++)this._filledIds.hasOwnProperty(n)||i.push(n);return i},e.prototype.notifyScrollToTop=function(){!this.adapter||this.adapter.getCount()<=0||this.pullDownCallback&&this.pullDownCallback()},e.prototype.notifyScrollToBottom=function(){!this.adapter||this.adapter.getCount()<=0||this.pullUpCallback&&this.pullUpCallback()},e.prototype.adjustEvent=function(){var t=this;this.content.on(this.isMobile()?cc.Node.EventType.TOUCH_END:cc.Node.EventType.MOUSE_UP,function(){t.scrollTopNotifyed=!1,t.scrollBottomNotifyed=!1},this),this.content.on(this.isMobile()?cc.Node.EventType.TOUCH_CANCEL:cc.Node.EventType.MOUSE_LEAVE,function(){t.scrollTopNotifyed=!1,t.scrollBottomNotifyed=!1},this)},e.prototype.isMobile=function(){return cc.sys.isMobile||cc.sys.platform===cc.sys.WECHAT_GAME||cc.sys.platform===cc.sys.QQ_PLAY},__decorate([s(cc.Prefab)],e.prototype,"itemTemplate",void 0),__decorate([s],e.prototype,"spacing",void 0),__decorate([s],e.prototype,"spawnCount",void 0),__decorate([s(cc.ScrollView)],e.prototype,"scrollView",void 0),e=__decorate([o],e)}(cc.Component);i.default=a;var r=function(){function t(){this.dataSet=[]}return t.prototype.setDataSet=function(t){this.dataSet=t},t.prototype.getCount=function(){return this.dataSet.length},t.prototype.getItem=function(t){return this.dataSet[t]},t.prototype._getView=function(t,e){return this.updateView(t,e),t},t}();i.AbsAdapter=r,cc._RF.pop()},{}],GiftBoxJs:[function(t,e,i){"use strict";cc._RF.push(e,"a13a7hsD4VPKL8hSW3Jiolo","GiftBoxJs"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.active=!1,this.judgeAD()},judgeAD:function(){console.log("++judgeAD++")},start:function(){},update:function(t){}}),cc._RF.pop()},{}],HttpServer:[function(t,e,i){"use strict";cc._RF.push(e,"25f44Z6mqJAw4AGb6mSpmlT","HttpServer");var n=cc.Class({statics:{getInstance:function(){return null==this.HttpServer?new n:this.HttpServer}},properties:{website:"https://www.playinnanjing.com/"},getSessionid:function(){return cc.sys.localStorage.getItem("sessionid")},login:function(t,e,i,n){var o=this;this.httpPost("ppt/maze/login",t,function(t){console.log("ppt/maze/login",t),200==t.code?(console.log("set token",t.token),cc.sys.localStorage.setItem("sessionid",t.token),n?o.getUserData(e,i):e&&e(t)):(console.log("\u767b\u9646\u5931\u8d25"),i&&i(t))},function(t){cc.sys.localStorage.removeItem("sessionid"),console.log("\u767b\u9646\u5931\u8d25"),i&&i(t)})},getUserData:function(t,e){var i={};i.token=cc.sys.localStorage.getItem("sessionid"),this.httpPost("ppt/maze/user/get",i,function(i){console.log("getUserData",i),200==i.code?t&&t(i):(console.log("\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25"),e&&e(i))},e)},httpPost:function(t,e,i,n){this.httpRequest(t,JSON.stringify(e),"post",i,n)},httpGet:function(t,e,i){this.httpRequest(t,null,"get",e,i)},httpRequest:function(t,e,i,n,o){var s=this.website+t;console.log("http send",e,"url=",s),wx.request({url:s,data:e,method:i,success:function(t){if(console.log(t),t.data){var e=t.data;null!==n&&n(e)}else o&&o(t)},fail:function(t){o&&o(t)}})},saveUserData:function(t){var e={};e.token=cc.sys.localStorage.getItem("sessionid"),e.result=t,this.httpPost("ppt/maze/user/save",e,function(t){console.log("saveUserData",t),200==t.code?console.log("\u4fdd\u5b58\u6210\u529f"):-1==t.code?HttpLogic.doLogin():console.log(t.code,t.msg)},function(){console.log("\u4fdd\u5b58\u5931\u8d25saveUserData")})},postLuckyWheel:function(t,e,i){},openLuckyWheel:function(t,e){},invitePlayerQuery:function(t,e){var i={};i.token=cc.sys.localStorage.getItem("sessionid"),i.shareType=t,this.httpPost("ppt/maze/invite/get",i,function(t){console.log("invitePlayerQuery",t),200==t.code?e&&e(t):-1==t.code?HttpLogic.doLogin():console.log(t)},function(t){console.log(t,"++invitePlayerQuery++")})},updateFriendDraw:function(t,e){var i={};i.token=cc.sys.localStorage.getItem("sessionid"),i.openid=t,i.shareType=10,this.httpPost("ppt/maze/invite/update",i,function(t){console.log("updateFriendDraw",t),200==t.code?e&&e(t):-1==t.code?HttpLogic.doLogin():console.log(t)},function(t){console.log(t,"++updateFriendDraw++")})},saveInvitePlayer:function(){if(MT.WXHELPER.onShowQuery.token!=cc.sys.localStorage.getItem("sessionid")){var t={};t.fOpenid=MT.WXHELPER.onShowQuery.token,t.openId=cc.sys.localStorage.getItem("sessionid"),t.shareType=MT.WXHELPER.onShowQuery.prop,t.name=MT.GLOBAL.playerInfo.nickName,t.iconUrl=MT.GLOBAL.playerInfo.avatarUrl,this.httpPost("ppt/maze/invite/put",t,function(t){console.log("saveInvitePlayer",t),200==t.code?console.log("saveInvitePlayer success"):-1==t.code?(HttpLogic.doLogin(),console.log("saveInvitePlayer failed",t.code)):console.log("saveInvitePlayer failed")},function(t){console.log("saveInvitePlayer failed",t)})}},gongGaoQuery:function(t){this.httpGet("ppt/maze/notice/get",function(e){200==e.code?(e.cfg&&e.cfg.content&&(MT.GLOBAL.gameGongGao=e.cfg.content),t&&t()):console.log("gongGaoQuery failed",e)},function(t){console.log("gongGaoQuery failed",t)})}});e.exports=n.getInstance(),cc._RF.pop()},{}],ListAdapter:[function(t,e,i){"use strict";cc._RF.push(e,"944aezMwqdHD6Fcz9znad/S","ListAdapter");var n=t("./ListView"),o=t("./ListItem");cc.Class({extends:n.AbsAdapter,updateView:function(t,e){var i=t.getComponent(o);i&&i.setData(this.getItem(e))}}),cc._RF.pop()},{"./ListItem":"ListItem","./ListView":"ListView"}],ListItem:[function(t,e,i){"use strict";cc._RF.push(e,"88fb1aSyNtEv6s4vGgD/0rg","ListItem");new cc.color(75,175,80),new cc.color(255,255,255),new cc.color(30,30,30);cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label},lanternBtnArr:{default:[],type:cc.Node},data:null,lockSpr:cc.SpriteFrame},setData:function(t){if(this.data=t,3==MT.USER.CustomsSize&&8==t.i&&(this.lanternBtnArr[1].active=!1,this.lanternBtnArr[2].active=!1,this.lanternBtnArr[3].active=!1,this.lanternBtnArr.pop(),this.lanternBtnArr.pop(),this.lanternBtnArr.pop()),2==MT.USER.CustomsSize||5==MT.USER.CustomsSize)for(var e=0;e!=this.lanternBtnArr.length;e++)this.lanternBtnArr[e].getChildByName("imgRoom").getComponent(cc.Sprite).spriteFrame=MT.GLOBAL.houseSp[2],this.lanternBtnArr[e].getChildByName("imgLock").getComponent(cc.Sprite).spriteFrame=MT.GLOBAL.houseSp[3];else for(var i=0;i!=this.lanternBtnArr.length;i++)this.lanternBtnArr[i].getChildByName("imgRoom").getComponent(cc.Sprite).spriteFrame=MT.GLOBAL.houseSp[0],this.lanternBtnArr[i].getChildByName("imgLock").getComponent(cc.Sprite).spriteFrame=MT.GLOBAL.houseSp[1];for(var n=0;n!=this.lanternBtnArr.length;n++){var o=this.data.i+n+1;this.lanternBtnArr[n].getChildByName("txtLevel").getComponent(cc.Label).string=o;var s=Math.floor(8*Math.random());this.lanternBtnArr[n].getChildByName("imgLock").getComponent(cc.Sprite).spriteFrame=o<=this.data.a?MT.GLOBAL.catFace[s]:this.lockSpr,this.lanternBtnArr[n].getChildByName("imgLock").active=o!=this.data.a}},onGotoGameSceneEvent:function(t){MT.AUDIOMGR.playEffect("button");var e=t.target.getChildByName("txtLevel").getComponent(cc.Label).string;if(""===e||Number(e)>this.data.a)console.log("\u8fd8\u672a\u89e3\u9501\u672c\u5173\u5361");else{var i;switch(e=Number(e),3==MT.USER.CustomsSize?e+=9*MT.USER.SUBMODEL:e+=20*MT.USER.SUBMODEL,console.log("\u5f53\u524d\u5173\u5361\u5df2\u89e3\u9501:",e),console.log("____\u7b2c"+e+"\u5173"),MT.USER.CustomsSize){case 0:i="classic",console.log("\u8bfb\u53d6\u6570\u636e____\u91d1\u5178____"+e);break;case 1:i="time_trial",console.log("\u8bfb\u53d6\u6570\u636e____\u9650\u65f6____"+e);break;case 2:i="enemies",console.log("\u8bfb\u53d6\u6570\u636e____\u72c2\u6b22____"+e);break;case 3:i="ice_floor",console.log("\u8bfb\u53d6\u6570\u636e____\u6e9c\u51b0____"+e);break;case 4:i="fog",console.log("\u8bfb\u53d6\u6570\u636e____\u9ed1\u591c____"+e);break;case 5:i="traps",console.log("\u8bfb\u53d6\u6570\u636e____\u9677\u9631____"+e)}3==MT.USER.CustomsSize?MT.GLOBAL.iceStageNum<e&&(e=MT.GLOBAL.iceStageNum):MT.GLOBAL.normalStageNum<e&&(e=MT.GLOBAL.normalStageNum),1>e&&(e=1),MT.USER.GetMap(i,e,this.startGame)}},startGame:function(){MT.GLOBAL.MAP&&MT.GLOBAL.loadScene("gameScene")}}),cc._RF.pop()},{}],ListView:[function(t,e,i){"use strict";cc._RF.push(e,"08aaclpYJ9BobstKhUuZIGa","ListView"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,s=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemTemplate=null,e.spacing=1,e.spawnCount=2,e.scrollView=null,e.content=null,e.adapter=null,e._items=new cc.NodePool,e._filledIds={},e.horizontal=!1,e._itemHeight=1,e._itemWidth=1,e._itemsVisible=1,e.lastStartIndex=-1,e.scrollTopNotifyed=!1,e.scrollBottomNotifyed=!1,e.pullDownCallback=null,e.pullUpCallback=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.scrollView?(this.content=this.scrollView.content,this.horizontal=this.scrollView.horizontal,this.horizontal?(this.scrollView.vertical=!1,this.content.anchorX=0,this.content.x=this.content.parent.width*this.content.parent.anchorX):(this.scrollView.vertical=!0,this.content.anchorY=1,this.content.y=this.content.parent.height*this.content.parent.anchorY)):console.error("ListView need a scrollView for showing.");var t=this._items.get()||cc.instantiate(this.itemTemplate);this._items.put(t),this._itemHeight=t.height||10,this._itemWidth=t.width||10,this.horizontal?this._itemsVisible=Math.ceil(this.content.parent.width/this._itemWidth):this._itemsVisible=Math.ceil(this.content.parent.height/this._itemHeight),console.log("\u53ef\u89c1\u533a\u57df\u7684item\u6570\u91cf\u4e3a:",this._itemsVisible),this.adjustEvent()},e.prototype.setAdapter=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return this.adapter=t,null==this.adapter?(console.warn("adapter \u4e3a\u7a7a."),[2]):null==this.itemTemplate?(console.error("Listview \u672a\u8bbe\u7f6e\u5f85\u663e\u793a\u7684Item\u6a21\u677f."),[2]):(this.notifyUpdate(),[2])})})},e.prototype.getItemIndex=function(t){return Math.floor(Math.abs(t/(this._itemHeight+this.spacing)))},e.prototype.getPositionInView=function(t){var e=t.parent.convertToWorldSpaceAR(t.position);return this.scrollView.node.convertToNodeSpaceAR(e)},e.prototype.notifyUpdate=function(t){var e=this;null!=this.adapter&&(t&&t.length>0?t.forEach(function(t){e._filledIds.hasOwnProperty(t)&&delete e._filledIds[t]}):Object.keys(this._filledIds).forEach(function(t){delete e._filledIds[t]}),this.lastStartIndex=-1,this.horizontal?this.content.width=this.adapter.getCount()*(this._itemWidth+this.spacing)+this.spacing:this.content.height=this.adapter.getCount()*(this._itemHeight+this.spacing)+this.spacing,this.scrollView.scrollToTop())},e.prototype.scrollToTop=function(t){void 0===t&&(t=!1),this.scrollView.scrollToTop(t?1:0)},e.prototype.scrollToBottom=function(t){void 0===t&&(t=!1),this.scrollView.scrollToBottom(t?1:0)},e.prototype.scrollToLeft=function(t){void 0===t&&(t=!1),this.scrollView.scrollToLeft(t?1:0)},e.prototype.scrollToRight=function(t){void 0===t&&(t=!1),this.scrollView.scrollToRight(t?1:0)},e.prototype.pullDown=function(t,e){this.pullDownCallback=t.bind(e)},e.prototype.pullUp=function(t,e){this.pullUpCallback=t.bind(e)},e.prototype.update=function(t){var e=this.checkNeedUpdate();e>=0&&this.updateView(e)},e.prototype._layoutVertical=function(t,e){this.content.addChild(t),t._tag=e,this._filledIds[e]=e,t.setPosition(0,-t.height*(.5+e)-this.spacing*(e+1))},e.prototype._layoutHorizontal=function(t,e){this.content.addChild(t),t._tag=e,this._filledIds[e]=e,t.setPosition(-t.width*(.5+e)-this.spacing*(e+1),0)},e.prototype.getRecycleItems=function(t,e){var i=this,n=[];return this.content.children.forEach(function(o){(o._tag<t||o._tag>e)&&(n.push(o),delete i._filledIds[o._tag])}),n},e.prototype.updateView=function(t){var e=this,i=t,n=i+this._itemsVisible+(this.spawnCount||2),o=this.adapter.getCount();if(!(i>=o)){n>o?(n=o,this.scrollBottomNotifyed||(this.notifyScrollToBottom(),this.scrollBottomNotifyed=!0)):this.scrollBottomNotifyed=!1,this.getRecycleItems(i-(this.spawnCount||2),n).forEach(function(t){e._items.put(t)});for(var s=0,a=this.findUpdateIndex(i,n);s<a.length;s++){var r=a[s],c=this.adapter._getView(this._items.get()||cc.instantiate(this.itemTemplate),r);this.horizontal?this._layoutHorizontal(c,r):this._layoutVertical(c,r)}}},e.prototype.checkNeedUpdate=function(){if(null==this.adapter)return-1;var t=this.horizontal?this.content.x-this.content.parent.width*this.content.parent.anchorX:this.content.y-this.content.parent.height*this.content.parent.anchorY,e=Math.floor(t/((this.horizontal?this._itemWidth:this._itemHeight)+this.spacing));return e<0&&!this.scrollTopNotifyed?(this.notifyScrollToTop(),this.scrollTopNotifyed=!0,e):(e>0&&(this.scrollTopNotifyed=!1),this.lastStartIndex!=e?(this.lastStartIndex=e,e):-1)},e.prototype.findUpdateIndex=function(t,e){for(var i=[],n=t;n<e;n++)this._filledIds.hasOwnProperty(n)||i.push(n);return i},e.prototype.notifyScrollToTop=function(){!this.adapter||this.adapter.getCount()<=0||this.pullDownCallback&&this.pullDownCallback()},e.prototype.notifyScrollToBottom=function(){!this.adapter||this.adapter.getCount()<=0||this.pullUpCallback&&this.pullUpCallback()},e.prototype.adjustEvent=function(){var t=this;this.content.on(this.isMobile()?cc.Node.EventType.TOUCH_END:cc.Node.EventType.MOUSE_UP,function(){t.scrollTopNotifyed=!1,t.scrollBottomNotifyed=!1},this),this.content.on(this.isMobile()?cc.Node.EventType.TOUCH_CANCEL:cc.Node.EventType.MOUSE_LEAVE,function(){t.scrollTopNotifyed=!1,t.scrollBottomNotifyed=!1},this)},e.prototype.isMobile=function(){return cc.sys.isMobile||cc.sys.platform===cc.sys.WECHAT_GAME||cc.sys.platform===cc.sys.QQ_PLAY},__decorate([s(cc.Prefab)],e.prototype,"itemTemplate",void 0),__decorate([s],e.prototype,"spacing",void 0),__decorate([s],e.prototype,"spawnCount",void 0),__decorate([s(cc.ScrollView)],e.prototype,"scrollView",void 0),e=__decorate([o],e)}(cc.Component);i.default=a;var r=function(){function t(){this.dataSet=[]}return t.prototype.setDataSet=function(t){this.dataSet=t},t.prototype.getCount=function(){return this.dataSet.length},t.prototype.getItem=function(t){return this.dataSet[t]},t.prototype._getView=function(t,e){return this.updateView(t,e),t},t}();i.AbsAdapter=r,cc._RF.pop()},{}],NewScript:[function(t,e,i){"use strict";cc._RF.push(e,"fb984UZWeZCiJiy5qFoi059","NewScript"),cc._RF.pop()},{}],OtherAppItemJs:[function(t,e,i){"use strict";cc._RF.push(e,"df9512TM/FBuYH/nGn7Qx1B","OtherAppItemJs"),cc.Class({extends:cc.Component,properties:{appsIcon:cc.Sprite,txtGameName:cc.Label},onLoad:function(){},start:function(){},setBtnInfo:function(t){this.index=t;this.txtGameName.string=MT.GLOBAL.constData.otherApps[t].name,this.loadAppIcon(MT.GLOBAL.constData.otherApps[t].icon)},loadAppIcon:function(t){var e=this,i=cc.loader.getRes(t);i?this.appsIcon.spriteFrame=new cc.SpriteFrame(i):cc.loader.load(t,function(i,n){i?cc.warn("loadExternalAsset error",t):e.appsIcon.spriteFrame=new cc.SpriteFrame(n)})},onBtnOpenOtherApp:function(){MT.WXHELPER.wxNavigateToMiniProgram(MT.GLOBAL.constData.otherApps[this.index].appid,function(){console.log("\u6253\u5f00\u5176\u4ed6\u5c0f\u7a0b\u5e8f\u6210\u529f")},function(){})}}),cc._RF.pop()},{}],WaitMgr:[function(t,e,i){"use strict";cc._RF.push(e,"03e39n2su5NHIM7KuKnVHZi","WaitMgr");var n={initWaitLayer:function(){var t=this;cc.loader.loadRes("prefabs/waitLayer",cc.Prefab,function(e,i){e?console.log(e):t.waitLayer=cc.instantiate(i)})},showWaitLayer:function(){this.waitLayer.position&&(this.waitLayer.position=cc.v2(0,0),this.waitLayer.parent&&this.hideWaitLayer(),this.runAni(),cc.find("Canvas").addChild(this.waitLayer))},hideWaitLayer:function(){this.stopAni(),this.waitLayer.removeFromParent()},runAni:function(){this.waitLayer.getChildByName("loading").stopAllActions(),this.waitLayer.getChildByName("loading").runAction(cc.repeatForever(cc.rotateBy(1,-720)))},stopAni:function(){this.waitLayer.getChildByName("loading").stopAllActions()}};e.exports=n,cc._RF.pop()},{}],YvesYu_loadingJs:[function(t,e,i){"use strict";cc._RF.push(e,"220b965wRxOGaiWfnAyhDzL","YvesYu_loadingJs"),cc.Class({extends:cc.Component,properties:{cricle:cc.Node},onLoad:function(){console.log("--------------111111111111");var t=cc.rotateBy(2,360);this.cricle.runAction(cc.repeatForever(t)),this.scheduleOnce(this.finishLoading,12)},start:function(){},finishLoading:function(){Load_YvesYu.setM_LoadNull(),this.node.destroy()}}),cc._RF.pop()},{}],addHint:[function(t,e,i){"use strict";cc._RF.push(e,"3c620WE1KlMk4fymCOblRqq","addHint"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.DownFishNum(),this.schedule(this.DownFishNum,1)},DownFishNum:function(){var t=MT.USER.DriedFishNum;1e4<t&&(t=d(t/1e3)+"K"),this.node.getChildByName("fishNum").getComponent(cc.Label).string=t},onButtonSelf:function(){MT.AUDIOMGR.playEffect("button")},start:function(){}}),cc._RF.pop()},{}],afagou:[function(t,e,i){"use strict";cc._RF.push(e,"ca62a9K1blEdbFTJcXLNT1n","afagou"),cc.Class({extends:t("baseScene"),properties:{rotationNode:cc.Node,txtProgress:cc.Label},onLoad:function(){this.txtProgress.string="0%",this._super()},preloadPrefabs:function(){},onResourceLoaded:function(t,e){this.txtProgress.string=(t/e*100/2).toFixed(0)+"%",t==e&&this.preloadScene()},initView:function(){this._wall_width="prefabs/game/wall_width",this.pushPrefab(this._wall_width),this._well_heigth="prefabs/game/well_heigth",this.pushPrefab(this._well_heigth),this._cat="prefabs/game/hero",this.pushPrefab(this._cat),this._fish="prefabs/game/Fish",this.pushPrefab(this._fish),this._Dog="prefabs/game/monster",this.pushPrefab(this._Dog),this._footPrint="prefabs/game/footPrint",this.pushPrefab(this._footPrint),this._pause="prefabs/game/pause",this.pushPrefab(this._pause),this._Hint="prefabs/game/Hint",this.pushPrefab(this._Hint),this._FootPrint_Hint="prefabs/game/FootPrint_Hint",this.pushPrefab(this._FootPrint_Hint),this._GameOver="prefabs/game/GameOver",this.pushPrefab(this._GameOver),this._Face="prefabs/game/Face",this.pushPrefab(this._Face),this._iceBlock="prefabs/game/iceBlock",this.pushPrefab(this._iceBlock),this._trap="prefabs/game/trap",this.pushPrefab(this._trap),this._pitfall="prefabs/game/pitfall",this.pushPrefab(this._pitfall),this._night="prefabs/game/night",this.pushPrefab(this._night),this.registerLoadResourceEndCallBack(this.onResourceLoaded.bind(this)),this.preloadResources()},preloadScene:function(){var t=this;cc.director.preloadScene("selectionScene",function(t,e){},function(e){e||t.loading()})},loading:function(){var t=this;this.txtProgress.string="50%",cc.director.preloadScene("loginScene",function(e,i,n){t.txtProgress.string=(e/i*100/2+50).toFixed(0)+"%"},function(e){e?(console.log("\u52a0\u8f7d\u5931\u8d25",e),t.loading()):setTimeout(function(){cc.director.loadScene("loginScene")},300)})},start:function(){this.rotationNode.runAction(cc.repeatForever(cc.rotateBy(2,360)))}}),cc._RF.pop()},{baseScene:"baseScene"}],audioMgr:[function(t,e,i){"use strict";cc._RF.push(e,"582c949JaZCIJ58LRdqriuH","audioMgr");var n=t("dictionary"),o={_pathList:new n,_playMusic:null,_playEffects:new n,_isMusicSilence:!1,_defaultMusicVolume:1,loadAudio:function(t,e){cc.loader.loadRes(t,function(t,i){if(t)console.error(t.message||t);else{console.log(i,"====");var n=i.split("/"),o=n[n.length-1].split(".")[0];this._pathList.set(o,i),e&&e()}}.bind(this))},playMusic:function(t,e,i){var n=this;e=e||!1,this._defaultMusicVolume=i||1;var o=this._isMusicSilence?0:this._defaultMusicVolume;cc.loader.loadRes("sounds/"+t,cc.AudioClip,function(t,i){t||(n._playMusic=cc.audioEngine.play(i,e,o))})},stopMusic:function(){null!=this._playMusic&&(cc.audioEngine.stop(this._playMusic),this._playMusic=null)},playEffect:function(t,e,i,n){if(!this._isSoundSilence){var o=this;cc.loader.loadRes("sounds/"+t,cc.AudioClip,function(e,i){e||o._playEffects.set(t,cc.audioEngine.play(i))})}},stopEffect:function(t){var e=this._playEffects.get(t);null!=e&&(cc.audioEngine.stop(e),this._playEffects.remove(t))},stopAllEffects:function(){for(var t in this._playEffects.getIterator())this.stopEffect(t)},stopAll:function(){cc.audioEngine.stopAll(),this._playMusic=null,this._playEffects.clear()},setMusicSilence:function(t){(this._isMusicSilence=t)?this.setMusicVolume(0):this.setMusicVolume(this._defaultMusicVolume)},setSoundSilence:function(t){(this._isSoundSilence=t)&&this.stopAllEffects()},getSoundSilence:function(){return this._isSoundSilence},isMusicSilence:function(){return this._isMusicSilence},pauseAll:function(){this.setSilence(!0)},resumeAll:function(){this.setSilence(!1)},setMusicVolume:function(t){null!=this._playMusic&&cc.audioEngine.setVolume(this._playMusic,t)},getMusicVolume:function(){return null==this._playMusic?0:cc.audioEngine.getVolume(this._playMusic)}};e.exports=o,cc._RF.pop()},{dictionary:"dictionary"}],baseScene:[function(t,e,i){"use strict";cc._RF.push(e,"92565vqalBFGrwdqXpQYgSA","baseScene"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this._resources={},this._preloadList=[],this._loadCount=0,this._loadResourceProgressCallBack=[],this._loadResourceEndCallBack=[],this.initView()},initView:function(){},registerLoadResourceProgressCallBack:function(t){this._loadResourceProgressCallBack.push(t)},registerLoadResourceEndCallBack:function(t){this._loadResourceEndCallBack.push(t)},isUrlLegal:function(t){return t&&0<t.length},pushPrefab:function(t){this.isUrlLegal(t)&&this._preloadList.push([t,"Prefab"])},pushSpriteFrame:function(t){this.isUrlLegal(t)&&this._preloadList.push([t,"SpriteFrame"])},pushSpriteAtlas:function(t){this.isUrlLegal(t)&&this._preloadList.push([t,"SpriteAtlas"])},pushTexture:function(t){this.isUrlLegal(t)&&this._preloadList.push([t,"Texture"])},pushScene:function(t){this.isUrlLegal(t)&&this._preloadList.push([t,"Scene"])},loadResource:function(t,e,i){var n=function(e,n){i(e,n,t)};"SpriteFrame"===e?cc.loader.loadRes(t,cc.SpriteFrame,n):"SpriteAtlas"===e?cc.loader.loadRes(t,cc.SpriteAtlas,n):"Spine"===e?cc.loader.loadRes(t,sp.SkeletonData,n):"Animation"===e||"Prefab"===e||"Scene"===e||"Texture"===e||"Txt"===e||"Audio"===e?cc.loader.loadRes(t,n):cc.loader.load(t,n)},preloadResources:function(t){if(t&&0<t.length)for(var e=0;e<this._preloadList.length;e++)this._preloadList.push(t[e]);for(var i=0;i<this._preloadList.length;i++){var n=this._preloadList[i][0],o=this._preloadList[i][1];this.loadResource(n,o,this.preLoadCallBack.bind(this))}},preLoadCallBack:function(t,e,i){if(t);else{this._loadCount++,this._resources[i]=e;var n=this._preloadList.length;if(0<this._loadResourceProgressCallBack.length)for(var o=0;o<this._loadResourceProgressCallBack.length;o++)(0,this._loadResourceProgressCallBack[o])(this._loadCount/n);for(var s=this._loadResourceEndCallBack.length,a=0;a<s;a++)(0,this._loadResourceEndCallBack[a])(this._loadCount,n)}},onDestroy:function(){}}),cc._RF.pop()},{}],custom:[function(t,e,i){"use strict";cc._RF.push(e,"59921C0ndxFxJD4jwfZ0Yc2","custom");var n=function(t){return t&&t.__esModule?t:{default:t}}(t("./listView/ListView"));var o=t("./listView/ListAdapter");cc.Class({extends:cc.Component,properties:{title:cc.Label,listView:n.default,catFace:{default:[],type:cc.SpriteFrame},houseSp:{default:[],type:cc.SpriteFrame},themegreen:cc.Node,themeArr:{default:[],type:cc.Node}},chooseSkin:function(){if(2==MT.USER.CustomsSize||5==MT.USER.CustomsSize){this.themegreen.active=!0;for(var t=0;t!=this.themeArr.length;t++)this.themeArr.active=!1}else{this.themegreen.active=!1;for(var e=0;e!=this.themeArr.length;e++)this.themeArr.active=!0}},onLoad:function(){MT.GLOBAL.catFace=this.catFace,MT.GLOBAL.houseSp=this.houseSp,this.chooseSkin(),this.e=MT.GLOBAL.normalStageNum/5,3==MT.USER.CustomsSize&&(this.e=MT.GLOBAL.iceStageNum/5);var t=0;switch(MT.USER.CustomsSize){case 0:t=MT.USER.ComPer[MT.USER.SUBMODEL],console.log("____\u91d1\u5178");break;case 1:t=MT.USER.TimePer[MT.USER.SUBMODEL],console.log("____\u9650\u65f6");break;case 2:t=MT.USER.DogPer[MT.USER.SUBMODEL],console.log("____\u72c2\u6b22");break;case 3:t=MT.USER.SkatPer[MT.USER.SUBMODEL],console.log("____\u6e9c\u51b0");break;case 4:t=MT.USER.NightPer[MT.USER.SUBMODEL],console.log("____\u9ed1\u591c");break;case 5:t=MT.USER.TrapPer[MT.USER.SUBMODEL],console.log("____\u9677\u9631");break;default:console.log("\u5173\u5361\u7c7b\u578b\u9519\u8bef")}this.a=t},initData:function(){for(var t=new o,e=[],i=0;i<this.e;i+=4){var n=[];n.a=this.a,n.i=i,e.push(n)}t.setDataSet(e),this.listView.setAdapter(t)},start:function(){this.initData(),cc.director.preloadScene("gameScene")},onButtonBreak:function(){MT.AUDIOMGR.playEffect("button"),MT.GLOBAL.loadScene("selectionScene")},onDestroy:function(){}}),cc._RF.pop()},{"./listView/ListAdapter":"ListAdapter","./listView/ListView":"ListView"}],dictionary:[function(t,e,i){"use strict";cc._RF.push(e,"8f2d9pcIfNCz5iw1ofKj63T","dictionary");var n=cc.Class({name:"dictionary",ctor:function(){this._data={}},set:function(t,e){this._data[t]=e},get:function(t){return this._data[t]},remove:function(t){this._data[t]=null},isEmpty:function(){return 0===this.size()},size:function(){return Object.getOwnPropertyNames(this._data).length},clear:function(){this._data={}},getIterator:function(){return this._data}});e.exports=n,cc._RF.pop()},{}],face:[function(t,e,i){"use strict";cc._RF.push(e,"247c5hOI8dJJqRkOupBU841","face"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.active=!1},FaseSetPosition:function(){},visionHilp:function(){},setCat:function(t){},deletePicture:function(){},deleteHelp:function(){},viisonFace:function(){},deleteSelf:function(){},start:function(){}}),cc._RF.pop()},{}],follow:[function(t,e,i){"use strict";cc._RF.push(e,"88565JZ9hZPNpKbGfM61KRA","follow"),cc.Class({extends:cc.Component,properties:{},start:function(){},onBtnClose:function(){this.node.removeFromParent()}}),cc._RF.pop()},{}],footPrint:[function(t,e,i){"use strict";cc._RF.push(e,"f809evi821LkYKFJN8PxoOz","footPrint"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},initFooprint:function(t){0==t?this.node.angle=-90:1==t?this.node.angle=-270:2==t?this.node.angle=0:3==t&&(this.node.angle=-180),this.node.scaleY=0},runFootPrintAction:function(t){this.node.runAction(cc.scaleTo(t,1,1))},start:function(){},deleteSelf:function(t){var e=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.scaleTo(t,1,0),cc.callFunc(function(){e.node.destroy()})))}}),cc._RF.pop()},{}],gameInit:[function(t,e,i){"use strict";cc._RF.push(e,"acc0eOyQ1tHR4X8Z+G09i54","gameInit");var n=function(){cc.v2(0,0)},o=function(){cc.v2(0,0)};cc.Class({extends:t("baseScene"),properties:{GameArea:cc.Node,GuanQian:cc.Node,canOperate:!1,bgSpriteFrame:{default:[],type:cc.SpriteFrame},backGround:cc.Sprite,subBg:cc.Node},onLoad:function(){if(this.node=this.node.getChildByName("node"),this.chooseSkin(),console.log(wx.getSystemInfoSync(),"xxxxxx"),"iPhone X"==wx.getSystemInfoSync().model&&(this.GuanQian.getComponent(cc.Widget).top+=50),this._super(),this.drawGuanQian(),this.Cat,this.Fish,this.Dog=[],this.row,this.col,this.CatPoint,this.FishPoint,this.HintCircuit=[],this.WellArr=[],this.touchStart=null,this.CatDirection=-1,this.GameFootprint=[],this.FootPrintPoint=null,this.HintNum=3,this.GameWellArr=[],this.GameHintFootArr=[],this.GameTime=0,this.progressTime=0,this.Face=null,this.Gover=null,this.skatingArr=[],this.GameSkatArr=[],this.GameTrapArr=[],this.GamePitfallArr=[],this.impact=!1,this.trapArr=[],this.nigth=null,1==MT.USER.GuanNum);},chooseSkin:function(){2==MT.USER.CustomsSize||5==MT.USER.CustomsSize?(this.backGround.spriteFrame=this.bgSpriteFrame[1],this.node.getChildByName("Theme1").removeFromParent(),this.node.getChildByName("Theme2").removeFromParent(),this.subBg.color=cc.color(184,161,112)):(this.backGround.spriteFrame=this.bgSpriteFrame[0],this.subBg.color=cc.color(173,134,99))},onResourceLoaded:function(){},initView:function(){WAITMGR.showWaitLayer(),this._wall_width="prefabs/game/wall_width",this.pushPrefab(this._wall_width),this._well_heigth="prefabs/game/well_heigth",this.pushPrefab(this._well_heigth),this._cat="prefabs/game/hero",this.pushPrefab(this._cat),this._fish="prefabs/game/Fish",this.pushPrefab(this._fish),this._Dog="prefabs/game/monster",this.pushPrefab(this._Dog),this._footPrint="prefabs/game/footPrint",this.pushPrefab(this._footPrint),this._pause="prefabs/game/pause",this.pushPrefab(this._pause),this._Hint="prefabs/game/Hint",this.pushPrefab(this._Hint),this._FootPrint_Hint="prefabs/game/FootPrint_Hint",this.pushPrefab(this._FootPrint_Hint),this._GameOver="prefabs/game/GameOver",this.pushPrefab(this._GameOver),this._Face="prefabs/game/Face",this.pushPrefab(this._Face),this._iceBlock="prefabs/game/iceBlock",this.pushPrefab(this._iceBlock),this._trap="prefabs/game/trap",this.pushPrefab(this._trap),this._pitfall="prefabs/game/pitfall",this.pushPrefab(this._pitfall),this._night="prefabs/game/night",this.pushPrefab(this._night),this.registerLoadResourceEndCallBack(this.onResourceLoaded.bind(this)),this.preloadResources()},initMap:function(){this.row=MT.GLOBAL.MAP.r,this.col=MT.GLOBAL.MAP.c,this.CatPoint=this.JsonDataTransitionV2(MT.GLOBAL.MAP.s),this.FishPoint=this.JsonDataTransitionV2(MT.GLOBAL.MAP.f),this.HintCircuit[0]=this.CatPoint;for(var t=!0,e=MT.GLOBAL.MAP.h.length,i=0;i<e-1;i++){this.HintCircuit[i+1];var n=this.JsonDataTransitionV2(MT.GLOBAL.MAP.h[i]),o=Arr_YvesYu.getArrayFinallyData(this.HintCircuit);o?o.x==n.x||o.y==n.y?this.HintCircuit[i+1]=n:t=this.node.getChildByName("backGround_up").getChildByName("content").getChildByName("DriedFish").active=!1:this.HintCircuit[i+1]=n}10>this.HintCircuit.length&&(t=this.node.getChildByName("backGround_up").getChildByName("content").getChildByName("DriedFish").active=!1),t&&(this.node.getChildByName("backGround_up").getChildByName("content").getChildByName("DriedFish").active=!0),4==MT.USER.CustomsSize&&(this.node.getChildByName("backGround_up").getChildByName("content").getChildByName("DriedFish").active=!0);var s=MT.GLOBAL.MAP.w.length;for(i=0;i<s;i++){var a=new Array;a.start=this.JsonDataTransitionV2(MT.GLOBAL.MAP.w[i].o),a.end=this.JsonDataTransitionV2(MT.GLOBAL.MAP.w[i].d),this.WellArr[i]=a}if(3==MT.USER.CustomsSize){var r=MT.GLOBAL.MAP.i.length;for(i=0;i<r;i++)this.skatingArr[i]=this.JsonDatafloatTurnInt(MT.GLOBAL.MAP.i[i])}var c=this.darwGameWell();switch(3==MT.USER.CustomsSize&&this.darwGameSkating(),this.darwGameCat(),this.darwGameFish(),2==MT.USER.CustomsSize&&this.darwGameDog(),5==MT.USER.CustomsSize&&this.drawTrap(),1==MT.USER.GuanNum&&(c+=1),this.scheduleOnce(this.visionCatAndFishAndDog,c+.15),MT.USER.CustomsSize){case 1:63==this.row*this.col?this.GameTime=300:130==this.row*this.col?this.GameTime=400:252==this.row*this.col?this.GameTime=600:414==this.row*this.col?this.GameTime=800:616==this.row*this.col&&(this.GameTime=1100);break;default:this.GameTime=0}1!=MT.USER.CustomsSize&&5!=MT.USER.CustomsSize&&2!=MT.USER.CustomsSize||this.specialDriedFish()},specialDriedFish:function(){this.node.getChildByName("backGround_up").getChildByName("content").getChildByName("DriedFish").active=!0},start:function(){},darwGameDog:function(){var t=1;63==this.row*this.col?t=1:130==this.row*this.col?t=2:252==this.row*this.col?t=3:414==this.row*this.col?t=4:616==this.row*this.col&&(t=5);for(var e=0;e<t;e++){var i=cc.instantiate(this._resources[this._Dog]),o=this.getDogPosition();i.position=this.getGameCFDPoint(o),i.group=MT.MazeRecruit_Group.getMazeRecruit_Zoon(),i.opacity=0,this.GameArea.addChild(i);var s=new n;s.point=o,s.Dog=i,s.FX=-1,this.Dog.push(s)}this.schedule(this.DogRunAction,1)},drawTrap:function(){for(var t=0;t!=MT.GLOBAL.MAP.t.length;t++){var e=cc.instantiate(this._resources[this._trap]),i=MT.GLOBAL.MAP.t[t];i.v1.x=null==i.v1.x?0:i.v1.x,i.v1.y=null==i.v1.y?0:i.v1.y,i.v2.x=null==i.v2.x?0:i.v2.x,i.v2.y=null==i.v2.y?0:i.v2.y;var n=i.v1.x>i.v2.x?i.v2.x:i.v1.x,o=i.v1.y>i.v2.y?i.v2.y:i.v1.y;switch(i.d){case"d":o-=.5,e.angle=-90;break;case"r":n-=.5,e.angle=0;break;case"u":o-=.45,e.angle=90;break;case"l":n-=.55,e.angle=-180}e.opacity=0,e.position=this.getGameCFDPoint(cc.v2(n,o)),this.GameArea.addChild(e),this.trapArr.push(e)}},dawnGameTrap:function(){for(var t=130==this.row*this.col?1:252==this.row*this.col?2:414==this.row*this.col?3:616==this.row*this.col?4:3,e=0;4>e;e++)for(var i,n=0;n<t;n++){switch((i=new o).FX=e,i.RUN=r(1*Math.random()),i.point=this.getTrapPoint(e),i.trap=cc.instantiate(this._resources[this._trap]),e){case 0:i.trap.angle=0;break;case 1:i.trap.angle=-180,i.trap.setAnchorPoint(cc.v2(1,0));break;case 2:i.trap.angle=-90,i.trap.setAnchorPoint(cc.v2(1,0));break;case 3:i.trap.angle=-270}i.trap.opacity=0,i.trap.name="trap"+e+"hao",i.trap.position=cc.v2(95*i.point.x,95*i.point.y),this.GameArea.addChild(i.trap),this.GameTrapArr.push(i)}},getTrapPoint:function(t){var e=0,i=0;if(0==t||1==t)for(i=0==t?0:this.row;;){e=r(Math.random()*this.col-1);for(var n=0;n<this.GameTrapArr.length;n++)this.GameTrapArr[n].point.x;return cc.v2(e,i)}else if(2==t||3==t)for(e=2==t?0:this.col;;){for(i=r(Math.random()*this.row-1),n=0;n<this.GameTrapArr.length;n++)this.GameTrapArr[n].point.y;return cc.v2(e,i)}},stopRunTrap:function(){for(var t=0;t!=this.trapArr.length;t++)this.trapArr[t].getComponent("trap").stopAction()},resumeRunTrap:function(){for(var t=0;t!=this.trapArr.length;t++)this.trapArr[t].getComponent("trap").startAction()},runTrap:function(t){this.trapArr[t].getComponent("trap").startAction()},runGameTrap:function(){for(var t=0;t<this.GameTrapArr.length;t++){var e=this.GameTrapArr[t].point.x,i=this.GameTrapArr[t].point.y,n=!0;if(0==this.GameTrapArr[t].FX||1==this.GameTrapArr[t].FX)if(1==this.GameTrapArr[t].RUN){e++;for(var o=0;o<this.GameTrapArr.length;o++)this.GameTrapArr[o].point.x==e&&this.GameTrapArr[o].point.y==i&&(n=!1);if(!n||e>this.col-1){for(n=!0,e-=2,o=0;o<this.GameTrapArr.length;o++)this.GameTrapArr[o].point.x==e&&this.GameTrapArr[o].point.y==i&&(n=!1);if(!n||0>e)continue;this.GameTrapArr[t].RUN=0}}else{for(e--,o=0;o<this.GameTrapArr.length;o++)this.GameTrapArr[o].point.x==e&&this.GameTrapArr[o].point.y==i&&(n=!1);if(!n||0>e){for(n=!0,e+=2,o=0;o<this.GameTrapArr.length;o++)this.GameTrapArr[o].point.x==e&&this.GameTrapArr[o].point.y==i&&(n=!1);if(!n||e>this.col-1)continue;this.GameTrapArr[t].RUN=1}}else if(1==this.GameTrapArr[t].RUN){for(i++,o=0;o<this.GameTrapArr.length;o++)this.GameTrapArr[o].point.x==e&&this.GameTrapArr[o].point.y==i&&(n=!1);if(!n||i>this.row-1){for(n=!0,i-=2,o=0;o<this.GameTrapArr.length;o++)this.GameTrapArr[o].point.x==e&&this.GameTrapArr[o].point.y==i&&(n=!1);if(!n||0>i)continue;this.GameTrapArr[t].RUN=0}}else{for(i--,o=0;o<this.GameTrapArr.length;o++)this.GameTrapArr[o].point.x==e&&this.GameTrapArr[o].point.y==i&&(n=!1);if(!n||0>i){for(n=!0,i+=2,o=0;o<this.GameTrapArr.length;o++)this.GameTrapArr[o].point.x==e&&this.GameTrapArr[o].point.y==i&&(n=!1);if(!n||i>this.col-1)continue;this.GameTrapArr[t].RUN=1}}if(n){var s=cc.moveTo(.9,95*e,95*i);this.GameTrapArr[t].trap.runAction(s),this.GameTrapArr[t].point=cc.v2(e,i),this.AddGamepitfall(this.GameTrapArr[t].point,this.GameTrapArr[t].FX)}}},AddGamepitfall:function(t,e){if(0==this.GamePitfallArr.length&&this.schedule(this.runGamePitfall,.7),10>r(100*Math.random())){var i=new function(){cc.v2(0,0)};switch(i.Fx=e,i.point=t,i.pitfall=cc.instantiate(this._resources[this._pitfall]),e){case 0:i.pitfall.angle=0;break;case 1:i.pitfall.angle=-180,i.pitfall.setAnchorPoint(cc.v2(1,0));break;case 2:i.pitfall.angle=-90,i.pitfall.setAnchorPoint(cc.v2(1,0));break;case 3:i.pitfall.angle=-270}i.pitfall.position=this.gteGamePitfallpoint(t,e),i.pitfall.group=MT.MazeRecruit_Group.getMazeRecruit_Zoon(),this.GameArea.addChild(i.pitfall),this.GamePitfallArr.push(i)}},gteGamePitfallpoint:function(t,e){return 0==e||1==e?cc.v2(95*t.x+50,95*t.y):2==e||3==e?cc.v2(95*t.x,95*t.y+50):void 0},runGamePitfall:function(){if(0<this.GamePitfallArr.length)for(var t=0;t<this.GamePitfallArr.length;t++){var e=this.GamePitfallArr[t].point.x,i=this.GamePitfallArr[t].point.y;switch(this.GamePitfallArr[t].Fx){case 0:i++;break;case 1:i--;break;case 2:e++;break;case 3:e--}if(0>e||i>this.row||0>i||e>this.col)this.GamePitfallArr[t].pitfall.removeFromParent(),this.GamePitfallArr=Arr_YvesYu.removeArrayIndex(this.GamePitfallArr,t);else{var n=this.gteGamePitfallpoint(cc.v2(e,i),this.GamePitfallArr[t].Fx);this.GamePitfallArr[t].point=cc.v2(e,i);var o=cc.moveTo(.68,n.x,n.y);this.GamePitfallArr[t].pitfall.runAction(o)}}},getDogPosition:function(){for(var t=this.row-2,e=this.col-2;;){e=r(Math.random()*e)+1,t=r(Math.random()*t)+1;for(var i=0;i<this.Dog.length;i++)this.Dog[i].point.x!=e&&this.Dog[i].point.y;if(this.CatPoint.x!=e&&this.CatPoint.y!=t&&this.FishPoint.x!=e&&this.FishPoint.y!=t)return cc.v2(e,t)}},DogRunAction:function(){for(var t=0;t<this.Dog.length;t++)if(!this.Dog[t].Dog.getComponent(MT.GLOBAL.CONST_TEXT.DogJs).RunState()){var e=this.getDogRunPosition(t);e&&(this.Dog[t].point=e,this.Dog[t].Dog.getComponent(MT.GLOBAL.CONST_TEXT.DogJs).setDogRunAction(this.getGameCFDPoint(e)))}},getDogRunPosition:function(t){-1==this.Dog[t].FX?this.getDogRunFangXiang(t):20>r(100*Math.random())&&this.getDogRunFangXiang(t);for(var e=0;20>e;e++){var i=this.Dog[t].point.x,n=this.Dog[t].point.y,o=this.judgeIndexCanRun(this.Dog[t].FX,cc.v2(i,n));if(o){for(var s=!1,a=0;a<this.Dog.length;a++)if(a!=t&&this.Dog[a].point.x==o.x&&this.Dog[a].point.y==o.y){s=!0;break}if(this.FishPoint.x==o.x&&this.FishPoint.y==o.y&&(s=!0),s){this.getDogRunFangXiang(t);continue}return o}this.getDogRunFangXiang(t)}},GameDelayeCallFinish:function(){null==this.Gover&&(MT.AUDIOMGR.playEffect("Gamedie"),this.Cat.stopAllActions(),this.Gover=cc.instantiate(this._resources[this._GameOver]),this.Gover.getComponent(MT.GLOBAL.CONST_TEXT.GameOverJS).initGameOver_special(MT.USER.GuanNum),(this.Gover.getComponent(MT.GLOBAL.CONST_TEXT.GameOverJS).Father=this).Cat.getComponent(MT.GLOBAL.CONST_TEXT.CatJs).rundieAction(),this.node.parent.addChild(this.Gover))},getDogRunFangXiang:function(t){for(;;){var e=r(3*Math.random());if(e!=this.Dog[t].FX)return void(this.Dog[t].FX=e)}},judgeIndexCanRun:function(t,e){var i=null;return 0===t?(e.x++,i=this.CanRuning(e,cc.v2(e.x,e.y+1))?e:null):1===t?this.CanRuning(e,cc.v2(e.x,e.y+1))?(e.x--,i=e):i=null:2===t?(e.y++,i=this.CanRuning(e,cc.v2(e.x+1,e.y))?e:null):3===t&&(this.CanRuning(e,cc.v2(e.x+1,e.y))?(e.y--,i=e):i=null),i},CanRuning:function(t,e){for(var i=0;i<this.WellArr.length;i++){if(this.WellArr[i].start.x==t.x&&this.WellArr[i].start.y==t.y&&this.WellArr[i].end.x==e.x&&this.WellArr[i].end.y==e.y)return!1;if(this.WellArr[i].start.x==e.x&&this.WellArr[i].start.y==e.y&&this.WellArr[i].end.x==t.x&&this.WellArr[i].end.y==t.y)return!1;if(this.WellArr[i].end.x==t.x&&this.WellArr[i].end.y==t.y&&this.WellArr[i].start.x==e.x&&this.WellArr[i].start.y==e.y)return!1;if(this.WellArr[i].end.x==e.x&&this.WellArr[i].end.y==e.y&&this.WellArr[i].start.x==t.x&&this.WellArr[i].start.y==t.y)return!1}return!0},visionCatAndFishAndDog:function(){var t=this,e=cc.fadeIn(.05);this.scheduleOnce(function(){t.showWXrankPanel()},2);var i=this;if(this.Fish.getChildByName("cat").active=!1,this.Cat&&(this.Cat.runAction(e.clone()),4==MT.USER.CustomsSize&&(this.nigth.opacity=0,this.nigth.active=!0,this.nigth.runAction(cc.sequence(cc.delayTime(.1),cc.fadeIn(.5))))),this.Fish&&(this.Fish.runAction(cc.sequence(e.clone(),cc.callFunc(function(){i.Fish.getChildByName("Iamhouse2").active=!0,i.Fish.getChildByName("Iamhouse2").stopAllActions(),i.canOperate=!0,i.Fish.getChildByName("Iamhouse2").runAction(cc.sequence(cc.blink(2,4),cc.callFunc(function(){i.Fish.getChildByName("Iamhouse2").active=!1})))}))),this.Fish11=this.Fish),2==MT.USER.CustomsSize&&0<this.Dog.length){for(var n=0;n<this.Dog.length;n++)this.Dog[n].Dog.runAction(e.clone());this.setImpactState(!0)}if(3==MT.USER.CustomsSize&&0<this.GameSkatArr.length)for(n=0;n<this.GameSkatArr.length;n++)this.GameSkatArr[n].runAction(e.clone());if(5==MT.USER.CustomsSize){if(0<(i=this).trapArr.length){var o=function(t){i.trapArr[t].runAction(cc.sequence(e.clone(),cc.callFunc(function(){i.runTrap(t)})))};for(let t=0;t<i.trapArr.length;t++)o(t)}this.setImpactState(!0)}this.canTouch=!0,1==MT.USER.CustomsSize?(this.progressTime=this.GameTime,this.schedule(this.timeModeTimeCall,.05),this.node.getChildByName("backGround_up").getChildByName("content").getChildByName("Time").getComponent(cc.Label).string=this.GameTime/20,this.node.getChildByName("backGround_up").getChildByName("content").getChildByName("Time").active=!1,this.node.getChildByName("backGround_up").getChildByName("content").getChildByName("progressBox").active=!0,this.node.getChildByName("backGround_up").getChildByName("content").getChildByName("progressBox").getChildByName("txtClock").getComponent(cc.Label).string=""):(this.schedule(this.GameTimeCall,1),this.node.getChildByName("backGround_up").getChildByName("content").getChildByName("Time").position=cc.v2(0,-100),this.node.getChildByName("backGround_up").getChildByName("content").getChildByName("Time").active=!1),this.createFase()},setImpactState:function(t){this.impact=t,cc.director.getCollisionManager().enabled=t},ImpactOfZoon:function(t,e){"hero"==e.node.name&&("monster"==t.node.name&&(this.Cat.stopAllActions(),this.Cat.zIndex=11,this.GameDelayeCallFinish(),this.unschedule(this.DogRunAction),this.setImpactState(!1),this.canTouch=!1),"pitfall"==t.node.name&&(this.Cat.stopAllActions(),this.Cat.zIndex=11,this.GameDelayeCallFinish(),this.unschedule(this.runGamePitfall),this.stopRunTrap(),this.setImpactState(!1),this.canTouch=!1))},GameTimeCall:function(){this.GameTime++;var t,e=this.GameTime,i="00";60<e?(t=this.AddZero(e%60),i=this.AddZero(d(e/60))):t=this.AddZero(e),this.node.getChildByName("backGround_up").getChildByName("content").getChildByName("Time").getComponent(cc.Label).string=i+":"+t},AddZero:function(t){return 10>t?"0"+t:""+t},timeModeTimeCall:function(){if(this.GameTime-=1,this.progressBarCall(),0<this.GameTime){if(0==this.GameTime%20){var t=this.AddZero(this.GameTime/20);this.node.getChildByName("backGround_up").getChildByName("content").getChildByName("Time").getComponent(cc.Label).string=t}3==this.GameTime/20&&MT.AUDIOMGR.playEffect("clock_ticking")}else this.GameDelayeCallFinish(),this.unschedule(this.timeModeTimeCall)},progressBarCall:function(){this.node.getChildByName("backGround_up").getChildByName("content").getChildByName("progressBox").getChildByName("txtClock").getComponent(cc.Label).string=this.GameTime/10},createFase:function(){this.Cat&&this.Face&&(this.Face=null),this.Face=cc.instantiate(this._resources[this._Face]),this.Cat.getParent().getParent().getParent().addChild(this.Face)},playFase:function(){},setplayFaseCallTime:function(){var t=r(4*Math.random())+4;this.scheduleOnce(this.playFase,t)},JsonDataTransitionV2:function(t){var e=0,i=0;return t.x&&(e=t.x),t.y&&(i=t.y),cc.v2(parseInt(e),parseInt(i))},JsonDatafloatTurnInt:function(t){var e=0,i=0;return t.x&&(e=t.x),t.y&&(i=t.y),cc.v2(parseInt(e),parseInt(i))},darwGameWell:function(){this.canOperate=!1;var t=.01;150<this.WellArr.length&&(t=1/this.WellArr.length);for(var e,i=r(2*Math.random()),n=0;n<this.WellArr.length;n++)(e=this.getWell(this.WellArr[n])).getComponent(MT.GLOBAL.CONST_TEXT.WellActionJs).setGoalPoint(this.getWellPosition(this.WellArr[n])),1==i?e.position=this.getwellStartingPosition():0==i&&1==r(1*Math.random())&&(e.position=this.getwellStartingPosition()),e.getComponent(MT.GLOBAL.CONST_TEXT.WellActionJs).startAction(.2,t*n),this.GameArea.addChild(e),this.GameWellArr.push(e);var o=95*this.col;return 650<o&&(this.GameArea.scale=650/o,this.GameArea.x+=2/650*o),this.EffectNum_end=t*this.WellArr.length/.2,this.EffectNum=0,this.schedule(this.playEffectCall,.2),t*this.WellArr.length},playEffectCall:function(){this.EffectNum++,MT.AUDIOMGR.playEffect("level_creation"),this.EffectNum>=this.EffectNum_end&&this.unschedule(this.playEffectCall)},darwGameSkating:function(){for(var t,e=0;e<this.skatingArr.length;e++)(t=this.getskating()).opacity=0,t.position=cc.v2(95*this.skatingArr[e].x,95*this.skatingArr[e].y),this.GameArea.addChild(t,-10),this.GameSkatArr.push(t)},getskating:function(){return cc.instantiate(this._resources[this._iceBlock])},getWell:function(t){return t.start.x==t.end.x?cc.instantiate(this._resources[this._well_heigth]):t.start.y==t.end.y?cc.instantiate(this._resources[this._wall_width]):void 0},getWellPosition:function(t){var e=this.getWellStartingPoint(t);return cc.v2(95*e.x,95*e.y)},getWellStartingPoint:function(t){return t.start.x==t.end.x?t.start.y>t.end.y?t.end:t.start:t.start.y==t.end.y?t.start.x>t.end.x?t.end:t.start:void 0},getwellStartingPosition:function(){var t=2e3;1==r(1*Math.random())&&(t=-t);var e=r(3300*Math.random());return cc.v2(t,e)},darwGameCat:function(){if(this.Cat=cc.instantiate(this._resources[this._cat]),this.Cat.position=this.getGameCFDPoint(this.CatPoint),this.Cat.group=MT.MazeRecruit_Group.getMazeRecruit_Zoon(),this.Cat.getComponent(MT.GLOBAL.CONST_TEXT.CatJs).Father=this,this.Cat.opacity=0,this.GameArea.addChild(this.Cat),4==MT.USER.CustomsSize){63==this.row*this.col?3:130==this.row*this.col?2.5:252==this.row*this.col?2:414==this.row*this.col?1.5:616==this.row*this.col&&1,this.nigth=cc.instantiate(this._resources[this._night]);var t=this.Cat.getParent().scale;this.nigth.scale=1/t+.2/t,this.Cat.addChild(this.nigth),this.nigth.active=!1,console.log(this.nigth,"night"),console.log(this.nigth.scale,"scale")}},darwGameFish:function(){this.Fish=cc.instantiate(this._resources[this._fish]),this.Fish.position=this.getGameCFDPoint(this.FishPoint),this.Fish.opacity=0,this.GameArea.addChild(this.Fish)},getGameCFDPoint:function(t){return cc.v2(95*t.x+52,95*t.y+52)},drawGuanQian:function(){this.GuanQian.opacity=0,this.GuanQian.getChildByName("Num").getComponent(cc.Label).string=MT.USER.GuanNum,this.scheduleOnce(this.visionGuanQian,1/60)},visionGuanQian:function(){this.GuanQian.opacity=255,console.log(MT.USER.CustomsSize,"\u6a21\u5f0f");var t="";switch(MT.USER.CustomsSize){case 0:t="\u666e\u901a\u6a21\u5f0f-";break;case 1:t="\u9650\u65f6\u6a21\u5f0f-";break;case 2:t="\u72c2\u6b22\u6a21\u5f0f-";break;case 3:t="\u6e9c\u51b0\u6a21\u5f0f-";break;case 4:t="\u63a2\u9669\u6a21\u5f0f-";break;case 5:t="\u9677\u9631\u6a21\u5f0f-";break;default:console.log("\u5173\u5361\u7c7b\u578b\u9519\u8bef")}this.GuanQian.getChildByName("Di").getComponent(cc.Label).string=t}}),cc._RF.pop()},{baseScene:"baseScene"}],gameOver:[function(t,e,i){"use strict";cc._RF.push(e,"aec64akRcxG3pIFw2jUZsEh","gameOver");cc.Class({extends:cc.Component,properties:{Father:{default:null},advertising:cc.Node,Like:cc.Node,gameLoseLayer:cc.Node,gameWinLayer:cc.Node,BreakHome:cc.Label,otherAppsContent:cc.Node,otherAppItem:cc.Node,otherAppsPanel:cc.Node},onLoad:function(){this.doubleType,this.overType,this.UpType=0,this.BreakHome.string=MT.GLOBAL.constData.CONST_WORDS.hdzy,this.showOtherApps()},initGameOver:function(t){console.log("winwinwin"),this.overType=0,this.showLayer();var e=this.node.getChildByName("content").getChildByName("Muen").getChildByName("GameOverBox").getChildByName("taiTou");e.opacity=0,e.getChildByName("GuanQia").getChildByName("Num").getComponent(cc.Label).string=t,this.scheduleOnce(this.visionTaiTou,1/60),MT.getCanShare()&&""!=MT.wxVideoId?(MT.USER.VideoAndShare?(this.doubleType=1,MT.USER.VideoAndShare=!1):(this.doubleType=2,MT.USER.VideoAndShare=!0),MT.USER.setSave_VideoAndShare()):MT.getCanShare()&&""==MT.wxVideoId?this.doubleType=1:MT.getCanShare()||""==MT.wxVideoId?this.node.getChildByName("content").getChildByName("Muen").getChildByName("GameOverBox").getChildByName("double").active=!1:this.doubleType=2},initGameOver_special:function(t){console.log("lose"),this.overType=1,this.showLayer();var e=this.node.getChildByName("content").getChildByName("Muen").getChildByName("GameOverBox").getChildByName("taiTou");e.opacity=0,e.getChildByName("GuanQia").getChildByName("Num").getComponent(cc.Label).string=t,this.scheduleOnce(this.visionTaiTou,1/60),this.node.getChildByName("content").getChildByName("Muen").getChildByName("GameOverBox").getChildByName("double").active=!1,this.node.getChildByName("content").getChildByName("Muen").getChildByName("GameOverBox").getChildByName("DriedFish").active=!1},showOtherApps:function(){for(var t=0,e=0;e!=MT.USER.ComPer.length;e++)t=t+MT.USER.ComPer[e]+MT.USER.TimePer[e]+MT.USER.DogPer[e]+MT.USER.SkatPer[e]+MT.USER.NightPer[e]+MT.USER.TrapPer[e];if((t-=30)<7)this.otherAppsPanel.active=!1;else{this.otherAppsPanel.active=!0;for(var i=0;i!=MT.GLOBAL.constData.otherApps.length;i++){var n=cc.instantiate(this.otherAppItem);n.active=!0,n.getComponent("OtherAppItemJs").setBtnInfo(i),this.otherAppsContent.addChild(n)}var o=cc.instantiate(this.otherAppItem);o.active=!0,o.removeComponent("OtherAppItemJs"),this.otherAppsContent.addChild(o)}},showLayer:function(){this.gameLoseLayer.active=1==this.overType,this.gameWinLayer.active=0==this.overType},visionTaiTou:function(){var t=this.node.getChildByName("content").getChildByName("Muen").getChildByName("GameOverBox").getChildByName("taiTou");t.opacity=255;var e="";switch(MT.USER.CustomsSize){case 0:e="\u666e\u901a\u6a21\u5f0f-";break;case 1:e="\u9650\u65f6\u6a21\u5f0f-";break;case 2:e="\u72c2\u6b22\u6a21\u5f0f-";break;case 3:e="\u6e9c\u51b0\u6a21\u5f0f-";break;case 4:e="\u63a2\u9669\u6a21\u5f0f-";break;case 5:e="\u9677\u9631\u6a21\u5f0f-";break;default:console.log("\u5173\u5361\u7c7b\u578b\u9519\u8bef")}t.getChildByName("GuanQia").getChildByName("Di").getComponent(cc.Label).string=e},start:function(){},onButtonMoreGame:function(){MT.AUDIOMGR.playEffect("button")},onButtonBreakHome:function(){MT.AUDIOMGR.playEffect("button"),0==this.UpType&&MT.GLOBAL.loadScene("loginScene")},onButtonRestartGame:function(){this.Father.GameReset(),this.deleteSelf()},onButtonContinueGame:function(){0==this.UpType&&(1==this.overType?this.Father.GameReset():this.Father.newGame(),this.deleteSelf())},onButtonShare:function(){console.log("++onButtonShare++"),MT.AUDIOMGR.playEffect("button");var t=Math.floor(Math.random()*MT.GLOBAL.constData.self_app.shareImgs.length);MT.WXHELPER.share(MT.GLOBAL.constData.self_app.name,MT.GLOBAL.constData.self_app.shareImgs[t],"",function(){console.log("login--onBtnShare",MT.GLOBAL.constData.self_app.name,MT.GLOBAL.constData.self_app.shareImgs[t])})},onButtonDouble:function(){MT.AUDIOMGR.playEffect("button"),0==this.UpType&&console.log("\u70b9\u51fb\u7ffb\u500d\u6309\u94ae11")},ShareCall:function(){showModal("\u53cc\u500d\u5956\u52b1","\u901a\u5173\u5956\u52b1\u7ffb\u500d!",!1,function(){MT.USER.DriedFishNum+=MT.GLOBAL.REWARD_NUM,this.onButtonContinueGame(),Load_YvesYu.finishLoading()}.bind(this),function(){}.bind(this))},deleteSelf:function(){MT.AUDIOMGR.playEffect("button"),this.node.destroy()}}),cc._RF.pop()},{}],game:[function(t,e,i){"use strict";cc._RF.push(e,"1a0f9VcaflAiJazAM+HufRp","game");var n=function(){};cc.Class({extends:t("gameInit"),properties:{wxRankPanelPrefab:cc.Prefab,tipLayerPrefab:cc.Prefab},showWXrankPanel:function(){var t=this;null==this.wxRankPanel&&(this.wxRankPanel=cc.instantiate(this.wxRankPanelPrefab),this.wxRankPanel.position=cc.v2(0,0),this.node.parent.getChildByName("wxRankNode").addChild(this.wxRankPanel)),this.wxRankPanel.getComponent("wxRank").onGetWXFriendInfo(),this.wxRankPanel.getComponent("wxRank").onShowRandRank(),this.scheduleOnce(function(){t.wxRankPanel&&t.wxRankPanel.getComponent("wxRank")&&t.wxRankPanel.getComponent("wxRank").hide()},9)},onLoad:function(){console.log("gamegame"),this._super(),this.footArr=[],this.footItemArr=[],MT.WXHELPER.createRewardedVideoAd()},onResourceLoaded:function(t,e){t<e||(WAITMGR.hideWaitLayer(),this.initMap(),this.TouchEventInDoubleMode(),this.setCatStatus())},TouchEventInDoubleMode:function(){this.node.on("touchstart",function(t){this.canTouch&&this.handleTouchStart(t)},this),this.node.on("touchmove",function(t){this.canTouch&&this.handleTouchMove(t)},this),this.node.on("touchend",function(t){this.canTouch&&this.handleTouchEnd(t)},this),this.node.on("touchcancel",function(t){this.canTouch&&this.handleTouchCancel(t)},this)},handleTouchStart:function(t){this.touchStart=t.touch.getLocation()},handleTouchMove:function(){},handleTouchCancel:function(){},handleTouchEnd:function(t){var e=t.touch.getLocation(),i=p(e.x-this.touchStart.x),n=p(e.y-this.touchStart.y);(50<i||50<n)&&(n<i?0<e.x-this.touchStart.x?(console.log("\u5411\u53f3\u79fb\u52a8\u2192\u2192\u2192\u2192\u2192\u2192\u2192\u2192"),this.CatDirection=0):(console.log("\u2190\u2190\u2190\u2190\u2190\u2190\u2190\u2190\u5411\u5de6\u79fb\u52a8"),this.CatDirection=1):0<e.y-this.touchStart.y?(console.log("\u5411\u4e0a\u79fb\u52a8\u2191\u2191\u2191\u2191\u2191\u2191\u2191\u2191\u2191\u2191\u2191\u2191\u2191"),this.CatDirection=2):(console.log("\u5411\u4e0b\u79fb\u52a8\u2193\u2193\u2193\u2193\u2193\u2193\u2193\u2193\u2193\u2193\u2193"),this.CatDirection=3),this.CarRuning())},CarRuning:function(){var t=this.CatPoint.x,e=this.CatPoint.y,i=this.judgeIndexCanRun(this.CatDirection,cc.v2(t,e));if(console.log(" \u4f4d\u7f6e++X == "+this.CatPoint.x+"++Y"+this.CatPoint.y),null!=i){this.canTouch=!1,console.log("\u79fb\u52a8\u5230++X == "+i.x+"++Y"+i.y),t=this.CatPoint.x,e=this.CatPoint.y;var n=cc.v2(t,e);this.FootPrintPoint=n;this.drawFoot(this.CatPoint,i,.2),this.CatPoint=i;for(var o=0;o<this.Dog.length;o++)if(this.Dog[o].point.x==n.x&&n.y==this.Dog[o].point.y)return this.GameDelayeCallFinish(),void this.unschedule(this.DogRunAction);var s=this.getGameCFDPoint(i),a=cc.moveTo(.2,s.x,s.y);this.Cat.getComponent(MT.GLOBAL.CONST_TEXT.CatJs).hideAcion();var r=this;this.Cat.getComponent(MT.GLOBAL.CONST_TEXT.CatJs).setDirection(s),this.Cat.runAction(cc.sequence(a,cc.callFunc(function(){r.setCatStatus(),r.CatRanCall()}.bind(this))))}else this.canTouch=!0},setCatStatus:function(){for(var t=this,e=0;4!=e;e++){var i=t.judgeIndexCanRun(e,cc.v2(t.CatPoint.x,t.CatPoint.y));if(i){for(var n=!0,o=0;o!=t.footArr.length;o++)if(t.footArr[o].x==i.x&&t.footArr[o].y==i.y){n=!1;break}n&&t.Cat.getComponent(MT.GLOBAL.CONST_TEXT.CatJs).showAction(e)}}},drawFoot:function(t,e,i){var n;0==this.footArr.length?((n=cc.instantiate(this._resources[this._footPrint])).getComponent(MT.GLOBAL.CONST_TEXT.FootPrintJs).initFooprint(this.CatDirection),n.getComponent(MT.GLOBAL.CONST_TEXT.FootPrintJs).runFootPrintAction(i),n.position=this.getGameCFDPoint(this.FootPrintPoint),n.zIndex=-2,this.GameArea.addChild(n),this.footArr.push(t),this.footItemArr.push(n)):this.footArr[this.footArr.length-1].x==e.x&&this.footArr[this.footArr.length-1].y==e.y?(this.footItemArr[this.footArr.length-1].getComponent(MT.GLOBAL.CONST_TEXT.FootPrintJs).deleteSelf(i),this.footItemArr.pop(),this.footArr.pop()):((n=cc.instantiate(this._resources[this._footPrint])).getComponent(MT.GLOBAL.CONST_TEXT.FootPrintJs).initFooprint(this.CatDirection),n.getComponent(MT.GLOBAL.CONST_TEXT.FootPrintJs).runFootPrintAction(i),n.position=this.getGameCFDPoint(this.FootPrintPoint),n.zIndex=-2,this.GameArea.addChild(n),this.footArr.push(t),this.footItemArr.push(n))},CatRanCall:function(){if(this.GameThroughTesting()&&null==this.Gover){if(this.Cat.zIndex=11,this.Cat.active=!1,MT.AUDIOMGR.playEffect("pass"),this.Gover=cc.instantiate(this._resources[this._GameOver]),this.Gover.getComponent(MT.GLOBAL.CONST_TEXT.GameOverJS).initGameOver(MT.USER.GuanNum),this.saveGameResult(),(this.Gover.getComponent(MT.GLOBAL.CONST_TEXT.GameOverJS).Father=this).node.parent.addChild(this.Gover),this.Fish){var t=Math.floor(Math.random()*MT.GLOBAL.catFace.length);this.Fish.getChildByName("cat").getComponent(cc.Sprite).spriteFrame=MT.GLOBAL.catFace[t],this.Fish.getChildByName("cat").active=!0}1==MT.USER.CustomsSize?this.unschedule(this.timeModeTimeCall):this.unschedule(this.GameTimeCall),2==MT.USER.CustomsSize&&this.unschedule(this.DogRunAction),4==MT.USER.CustomsSize&&this.nigth.removeFromParent(),5==MT.USER.CustomsSize&&(this.unschedule(this.runGamePitfall),this.stopRunTrap())}else{var e,i=0,n=this.CatPoint.x,o=this.CatPoint.y,s=cc.v2(n,o);1!=this.CatDirection&&(s.x++,this.CanRuning(s,cc.v2(s.x,s.y+1))&&(i++,e=0),s=cc.v2(n,o)),0!=this.CatDirection&&(this.CanRuning(s,cc.v2(s.x,s.y+1))&&(i++,e=1),s=cc.v2(n,o)),3!=this.CatDirection&&(s.y++,this.CanRuning(s,cc.v2(s.x+1,s.y))&&(i++,e=2),s=cc.v2(n,o)),2!=this.CatDirection&&(this.CanRuning(s,cc.v2(s.x+1,s.y))&&(i++,e=3),s=cc.v2(n,o)),1==i?3==MT.USER.CustomsSize&&this.checkSating()&&this.CatDirection!=e?(MT.AUDIOMGR.playEffect("corner"),this.canTouch=!0,this.Face&&this.Face.getComponent(MT.GLOBAL.CONST_TEXT.FaceJs).visionHilp()):(this.CatDirection!=e&&MT.AUDIOMGR.playEffect("corner"),this.CatDirection=e,this.CarRuning()):3==MT.USER.CustomsSize&&this.checkSating()?(n=this.CatPoint.x,o=this.CatPoint.y,this.judgeIndexCanRun(this.CatDirection,cc.v2(n,o))?this.CarRuning():(MT.AUDIOMGR.playEffect("corner"),this.canTouch=!0,this.Face&&this.Face.getComponent(MT.GLOBAL.CONST_TEXT.FaceJs).visionHilp())):(MT.AUDIOMGR.playEffect("corner"),this.canTouch=!0,this.Face&&this.Face.getComponent(MT.GLOBAL.CONST_TEXT.FaceJs).visionHilp())}},checkSating:function(){for(var t=0;t<this.skatingArr.length;t++)if(this.CatPoint.x==this.skatingArr[t].x&&this.CatPoint.y==this.skatingArr[t].y)return!0;return!1},GameThroughTesting:function(){return this.CatPoint.x==this.FishPoint.x&&this.FishPoint.y==this.CatPoint.y},DarwFootPrint:function(t){var e=this.seekSelfFootPrint(),i=this.seekFootPrintArr();if(e)i.module&&(i.module.getComponent(MT.GLOBAL.CONST_TEXT.FootPrintJs).deleteSelf(t),i.module=null,this.GameFootprint.pop());else{i.module&&(i.module.getComponent(MT.GLOBAL.CONST_TEXT.FootPrintJs).deleteSelf(t),this.GameFootprint.pop(),i.module=null);var n=cc.instantiate(this._resources[this._footPrint]);n.getComponent(MT.GLOBAL.CONST_TEXT.FootPrintJs).initFooprint(this.CatDirection),n.getComponent(MT.GLOBAL.CONST_TEXT.FootPrintJs).runFootPrintAction(t),n.position=this.getGameCFDPoint(this.FootPrintPoint),n.zIndex=-2,this.GameArea.addChild(n),i.point=this.FootPrintPoint,i.module=n}null==this.GameFootprint[this.GameFootprint.length-1].module&&(this.GameFootprint.pop(),this.GameFootprint[this.GameFootprint.length-1].module.getComponent(MT.GLOBAL.CONST_TEXT.FootPrintJs).deleteSelf(t),this.GameFootprint.pop())},seekFootPrintArr:function(){var t=this.GameFootprint.length;if(0==t){var e=new n;return this.GameFootprint.push(e),e}for(var i=0;i<t;i++){if(!this.GameFootprint[i].point)return this.GameFootprint[i];if(this.GameFootprint[i].point.x==this.FootPrintPoint.x&&this.GameFootprint[i].point.y==this.FootPrintPoint.y)return this.GameFootprint[i]}e=new n;return this.GameFootprint.push(e),e},seekSelfFootPrint:function(){var t=this.GameFootprint.length;if(0==t)return!1;for(var e=0;e<t;e++)if(null!=this.GameFootprint[e].module&&this.GameFootprint[e].point.x==this.CatPoint.x&&this.GameFootprint[e].point.y==this.CatPoint.y)return!0;return!1},onButtonPause:function(){if(0!=this.canOperate){MT.AUDIOMGR.playEffect("button");var t=cc.instantiate(this._resources[this._pause]);(t.getComponent(MT.GLOBAL.CONST_TEXT.PauseJs).Father=this).node.parent.addChild(t),this.pauseAllAction()}},buttonPauseOff:function(){this.recoverTimeCall()},GameReset:function(){this.canOperate=!1;var t=this.deleteGameData();this.GameemptyData(),this.scheduleOnce(this.ThenextlevelGame,t+.4)},newGame:function(){var t=this.deleteGameData();this.scheduleOnce(this.GamewellActionCall,t+.4)},onBtnReset:function(){console.log("\u662f\u5426\u786e\u5b9a\u91cd\u65b0\u5f00\u59cb?"),this.canOperate&&this.GameReset()},deleteGameData:function(){var t,e=cc.fadeOut(.3);if(this.Cat&&this.Cat.runAction(e),this.Fish&&(this.Fish.runAction(e.clone()),this.Fish.opacity=0),2==MT.USER.CustomsSize&&0<this.Dog.length)for(var i=0;i<this.Dog.length;i++)this.Dog[i].Dog.runAction(e.clone());if(3==MT.USER.CustomsSize&&0<this.GameSkatArr.length)for(i=0;i<this.GameSkatArr.length;i++)this.GameSkatArr[i].runAction(e.clone());if(5==MT.USER.CustomsSize){if(0<this.trapArr.length)for(i=0;i<this.trapArr.length;i++)this.trapArr[i].runAction(e.clone());if(0<this.GamePitfallArr.length)for(i=0;i<this.GamePitfallArr.length;i++)this.GamePitfallArr[i].pitfall.runAction(e.clone())}this.Face&&(this.Face.getComponent(MT.GLOBAL.CONST_TEXT.FaceJs).deleteSelf(),this.unschedule(this.setplayFaseCallTime),this.Face=null);var n=.01;for(150<this.GameWellArr.length&&(n=1/this.GameWellArr.length),i=0;i<this.GameWellArr.length;i++)this.GameWellArr[i].getComponent(MT.GLOBAL.CONST_TEXT.WellActionJs).finishAction(.2,t=n*i);for(this.EffectNum_end=t*this.WellArr.length/.2,this.EffectNum=0,this.schedule(this.playEffectCall,.2),i=0;i<this.footItemArr.length;i++)this.footItemArr[i].getComponent(MT.GLOBAL.CONST_TEXT.FootPrintJs).deleteSelf(0);for(this.footArr=[],this.footItemArr=[],i=0;i<this.GameHintFootArr.length;i++)null!=this.GameHintFootArr[i]&&this.GameHintFootArr[i].getComponent(MT.GLOBAL.CONST_TEXT.FootPrintJs).deleteSelf(0);return t},saveGameResult:function(){switch(MT.USER.GuanNum++,MT.USER.CustomsSize){case 0:MT.USER.GuanNum%20==0&&19==MT.USER.ComPer[MT.USER.SUBMODEL]?MT.USER.ComPer[MT.USER.SUBMODEL]=20:MT.USER.GuanNum%20==1&&20==MT.USER.ComPer[MT.USER.SUBMODEL]?MT.USER.ComPer[MT.USER.SUBMODEL]=21:MT.USER.GuanNum%20>MT.USER.ComPer[MT.USER.SUBMODEL]&&(MT.USER.ComPer[MT.USER.SUBMODEL]=MT.USER.GuanNum%20),console.log("____\u91d1\u5178"),MT.USER.setSave_ComPer();break;case 1:MT.USER.GuanNum%20==0&&19==MT.USER.TimePer[MT.USER.SUBMODEL]?MT.USER.TimePer[MT.USER.SUBMODEL]=20:MT.USER.GuanNum%20==1&&20==MT.USER.TimePer[MT.USER.SUBMODEL]?MT.USER.TimePer[MT.USER.SUBMODEL]=21:MT.USER.GuanNum%20>MT.USER.TimePer[MT.USER.SUBMODEL]&&(MT.USER.TimePer[MT.USER.SUBMODEL]=MT.USER.GuanNum%20),console.log("____\u91d1\u5178"),MT.USER.setSave_TimePer();break;case 2:MT.USER.GuanNum%20==0&&19==MT.USER.DogPer[MT.USER.SUBMODEL]?MT.USER.DogPer[MT.USER.SUBMODEL]=20:MT.USER.GuanNum%20==1&&20==MT.USER.DogPer[MT.USER.SUBMODEL]?MT.USER.DogPer[MT.USER.SUBMODEL]=21:MT.USER.GuanNum%20>MT.USER.DogPer[MT.USER.SUBMODEL]&&(MT.USER.DogPer[MT.USER.SUBMODEL]=MT.USER.GuanNum%20),console.log("____\u75af\u72d7"),MT.USER.setSave_DogPer();break;case 3:MT.USER.GuanNum%9==0&&8==MT.USER.SkatPer[MT.USER.SUBMODEL]?MT.USER.SkatPer[MT.USER.SUBMODEL]=9:MT.USER.GuanNum%9==1&&9==MT.USER.SkatPer[MT.USER.SUBMODEL]?MT.USER.SkatPer[MT.USER.SUBMODEL]=10:MT.USER.GuanNum%9>MT.USER.SkatPer[MT.USER.SUBMODEL]&&(MT.USER.SkatPer[MT.USER.SUBMODEL]=MT.USER.GuanNum%9),console.log("____\u6e9c\u51b0"),MT.USER.setSave_SkatPer();break;case 4:MT.USER.GuanNum%20==0&&19==MT.USER.NightPer[MT.USER.SUBMODEL]?MT.USER.NightPer[MT.USER.SUBMODEL]=20:MT.USER.GuanNum%20==1&&20==MT.USER.NightPer[MT.USER.SUBMODEL]?MT.USER.NightPer[MT.USER.SUBMODEL]=21:MT.USER.GuanNum%20>MT.USER.NightPer[MT.USER.SUBMODEL]&&(MT.USER.NightPer[MT.USER.SUBMODEL]=MT.USER.GuanNum%20),console.log("____\u9ed1\u591c"),MT.USER.setSave_NightPer();break;case 5:MT.USER.GuanNum%20==0&&19==MT.USER.TrapPer[MT.USER.SUBMODEL]?MT.USER.TrapPer[MT.USER.SUBMODEL]=20:MT.USER.GuanNum%20==1&&20==MT.USER.TrapPer[MT.USER.SUBMODEL]?MT.USER.TrapPer[MT.USER.SUBMODEL]=21:MT.USER.GuanNum%20>MT.USER.TrapPer[MT.USER.SUBMODEL]&&(MT.USER.TrapPer[MT.USER.SUBMODEL]=MT.USER.GuanNum%20),console.log("____\u9677\u9631"),MT.USER.setSave_TrapPer()}for(var t=0,e=0;e!=MT.USER.ComPer.length;e++)t=t+MT.USER.ComPer[e]+MT.USER.TimePer[e]+MT.USER.DogPer[e]+MT.USER.SkatPer[e]+MT.USER.NightPer[e]+MT.USER.TrapPer[e];t-=30,MT.WXHELPER.setUserCloudStorage(MT.WXHELPER.MessageInfoType.score,t),MT.USER.saveToServer()},GamewellActionCall:function(){var t;switch(this.GameemptyData(),MT.USER.CustomsSize){case 0:t="classic";break;case 1:t="time_trial";break;case 2:t="enemies";break;case 3:t="ice_floor";break;case 4:t="fog";break;case 5:t="traps"}3==MT.USER.CustomsSize?1==MT.USER.GuanNum%9&&MT.GLOBAL.loadScene("selectionScene"):1==MT.USER.GuanNum%20&&MT.GLOBAL.loadScene("selectionScene"),1>MT.USER.GuanNum&&(MT.USER.GuanNum=1),MT.USER.GetMap(t,MT.USER.GuanNum,this.ThenextlevelGame.bind(this))},ThenextlevelGame:function(){this.unschedule(this.playEffectCall),console.log(this.node.getChildByName("backGround_up")),this.node.getChildByName("backGround_up").getChildByName("content").getChildByName("DriedFish").getComponent(MT.GLOBAL.CONST_TEXT.DiredFish).DownFishNum(),this.drawGuanQian(),this.initMap(),this.setCatStatus()},GameemptyData:function(){if(this.node.getChildByName("backGround_up").getChildByName("content").getChildByName("Time").active=!1,this.node.getChildByName("backGround_up").getChildByName("content").getChildByName("progressBox").active=!1,this.GameHintFootArr=[],this.GameFootprint=[],this.GameWellArr=[],this.HintNum=3,this.footArr=[],this.footItemArr=[],this.CatDirection=-1,this.touchStart=null,this.WellArr=[],this.HintCircuit=[],this.row=0,this.col=0,this.CatPoint=null,this.FishPoint=null,this.Gover=null,this.impact=!1,this.Fish.getComponent(MT.GLOBAL.CONST_TEXT.FishJs).deleteSelf(),this.Fish=null,this.Face&&(this.Face.getComponent(MT.GLOBAL.CONST_TEXT.FaceJs).deleteSelf(),this.Face=null),this.nigth=null,this.Cat.getComponent(MT.GLOBAL.CONST_TEXT.CatJs).deleteSelf(),this.Cat=null,2==MT.USER.CustomsSize&&0<this.Dog.length){for(var t=0;t<this.Dog.length;t++)this.Dog[t].Dog.getComponent(MT.GLOBAL.CONST_TEXT.DogJs).deleteSelf();this.Dog=[]}if(3==MT.USER.CustomsSize&&this.GameSkatArr.length){for(t=0;t<this.GameSkatArr.length;t++)this.GameSkatArr[t].removeFromParent();this.GameSkatArr=[],this.skatingArr=[]}if(5==MT.USER.CustomsSize){if(0<this.trapArr.length)for(var e=0;e<this.trapArr.length;e++)this.trapArr[e].removeFromParent();if(this.trapArr=[],0<this.GamePitfallArr.length)for(t=0;t<this.GamePitfallArr.length;t++)this.GamePitfallArr[t].pitfall.removeFromParent();this.GameTrapArr=[],this.GamePitfallArr=[]}},onButtonHint:function(){if(MT.AUDIOMGR.playEffect("button"),0<this.HintNum){var t=cc.instantiate(this._resources[this._Hint]);t.getComponent(MT.GLOBAL.CONST_TEXT.HintJs).Father=this,t.getComponent(MT.GLOBAL.CONST_TEXT.HintJs).initHint(this.HintNum),this.node.addChild(t),this.pauseAllAction()}else Hint_YvesYu.createHint("\u672c\u5c40\u63d0\u793a\u6b21\u6570\u5df2\u7528\u5b8c!",this.node)},pauseAllAction:function(){1==MT.USER.CustomsSize?this.unschedule(this.timeModeTimeCall):this.unschedule(this.GameTimeCall),2==MT.USER.CustomsSize&&(this.unschedule(this.DogRunAction),this.setImpactState(!1)),5==MT.USER.CustomsSize&&(this.unschedule(this.runGamePitfall),this.stopRunTrap(),this.setImpactState(!1))},recoverTimeCall:function(){1==MT.USER.CustomsSize?this.schedule(this.timeModeTimeCall,.05):this.schedule(this.GameTimeCall,1),2==MT.USER.CustomsSize&&(this.schedule(this.DogRunAction,1),this.setImpactState(!0)),5==MT.USER.CustomsSize&&(this.schedule(this.runGamePitfall,.7),this.resumeRunTrap(),this.setImpactState(!0))},UseHint:function(){if(0!=this.canOperate)if(MT.GLOBAL.PRICE<=MT.USER.DriedFishNum){if(MT.AUDIOMGR.playEffect("level_complete"),this.HintNum<=0)return console.log("\u63d0\u793a\u5b8c\u6bd5\u4e0d\u80fd\u518d\u63d0\u793a"),void Hint_YvesYu.createHint(MT.GLOBAL.TIPMESSAGE.limitTip,this.node);if(4==MT.USER.CustomsSize)console.log("\u589e\u52a0\u9ed1\u6697"),this.nigth.scale*=1.4;else if(1==MT.USER.CustomsSize){var t=0;63==this.row*this.col?t=100:130==this.row*this.col?t=133:252==this.row*this.col?t=200:414==this.row*this.col?t=267:616==this.row*this.col&&(t=367),this.GameTime+=t,t/=10,Hint_YvesYu.createHint(MT.GLOBAL.TIPMESSAGE.sjyc+t+"\u79d2!",this.node)}else if(5==MT.USER.CustomsSize){if(0==this.trapArr.length)return void Hint_YvesYu.createHint(MT.GLOBAL.TIPMESSAGE.noTrap,this.node);this.trapArr[this.trapArr.length-1].removeFromParent(),this.trapArr.pop(),Hint_YvesYu.createHint(MT.GLOBAL.TIPMESSAGE.trapRemove,this.node)}else if(2==MT.USER.CustomsSize){if(0==this.Dog.length)return void Hint_YvesYu.createHint(MT.GLOBAL.TIPMESSAGE.noDog,this.node);this.Dog[this.Dog.length-1].Dog.removeFromParent(),this.Dog.pop(),Hint_YvesYu.createHint(MT.GLOBAL.TIPMESSAGE.dogRemove,this.node)}else{if(!(1<this.HintCircuit.length))return console.log("\u63d0\u793a\u5b8c\u6bd5\u4e0d\u80fd\u518d\u63d0\u793a"),void Hint_YvesYu.createHint("\u63d0\u793a\u7ebf\u8def,\u5df2\u7ecf\u5168\u90e8\u663e\u793a\u5b8c\u6bd5!",this.node);for(var e,i=0,n=this.HintCircuit.length/this.HintNum,o=0;o<n;o++){e=Arr_YvesYu.getArrayFirstData(this.HintCircuit),this.HintCircuit=Arr_YvesYu.deleteArrayFirstData(this.HintCircuit);var s=Arr_YvesYu.getArrayFirstData(this.HintCircuit);if(!e)break;s||(s=this.FishPoint);var a=null;if(e.y==s.y?e.x<s.x?a=0:e.x>s.x&&(a=1):e.x==e.x&&(e.y<s.y?a=2:e.y>s.y&&(a=3)),null!=a){var r=cc.instantiate(this._resources[this._FootPrint_Hint]);r.getComponent(MT.GLOBAL.CONST_TEXT.FootPrintJs).initFooprint(a),r.position=this.getGameCFDPoint(e),r.zIndex=-1,r.opacity=0;var c=cc.sequence(cc.delayTime(i),cc.fadeIn(.2),cc.callFunc(function(t){t.getComponent(MT.GLOBAL.CONST_TEXT.FootPrintJs).runFootPrintAction(0)}.bind(this,r)));i+=.2,r.runAction(c),this.GameArea.addChild(r),this.GameHintFootArr.push(r)}}}this.HintNum--,MT.USER.DriedFishNum-=MT.GLOBAL.PRICE,MT.USER.setSave_DriedFishNum(),this.node.getChildByName("backGround_up").getChildByName("content").getChildByName("DriedFish").getComponent(MT.GLOBAL.CONST_TEXT.DiredFish).DownFishNum()}else Hint_YvesYu.createHint("\u5c0f\u9c7c\u5e72\u6570\u91cf\u4e0d\u8db3!",this.node)},start:function(){},onBtnWatchVideo:function(){this.tipLayer||(this.tipLayer=cc.instantiate(this.tipLayerPrefab),this.tipLayer.position=cc.v2(0,0),this.node.addChild(this.tipLayer)),this.tipLayer.getComponent("tip").onShow()}}),cc._RF.pop()},{gameInit:"gameInit"}],getMoreStar:[function(t,e,n){"use strict";cc._RF.push(e,"54edf+IhnRCypyKVfT4rxEH","getMoreStar"),cc.Class({extends:cc.Component,properties:{Father:{default:null}},onLoad:function(){this.VideoTime=0,this.ShareTime=0,this.GetTime=0,MT.getCanShare()||""==MT.wxVideoId?""==MT.wxVideoId&&MT.getCanShare()?this.node.getChildByName("GetBoX").getChildByName("VideoGet").active=!1:""!=MT.wxVideoId||MT.getCanShare()||(this.node.getChildByName("GetBoX").getChildByName("ShareGet").active=!1,this.node.getChildByName("GetBoX").getChildByName("VideoGet").active=!1):this.node.getChildByName("GetBoX").getChildByName("ShareGet").active=!1,this.getTimeState(),this.initButton()},getTimeState:function(){var t=this.getTimeSecond();0!=MT.USER.DriedGetTime&&(this.GetTime=MT.USER.DriedGetTime-t),0!=MT.USER.DriedGetShareTime&&(this.ShareTime=MT.USER.DriedGetShareTime-t),0!=MT.USER.DriedGteVideoTime&&(this.VideoTime=MT.USER.DriedGteVideoTime-t)},initButton:function(){0==MT.USER.DriedGetTime?this.visionGet(this):this.visionGet(!1),0==MT.USER.DriedGetShareTime?this.visionShareGet(this):this.visionShareGet(!1),0==MT.USER.DriedGteVideoTime?this.visionVideoGet(this):this.visionVideoGet(!1)},visionGet:function(t){var e=this.node.getChildByName("GetBoX");t?(e.getChildByName("Get").getChildByName("Time").active=!1,e.getChildByName("Get").getChildByName("FishAdd").active=!0,MT.USER.DriedGetTime=this.GetTime=0):(e.getChildByName("Get").getChildByName("Time").active=!0,e.getChildByName("Get").getChildByName("FishAdd").active=!1,this.GetTime++,this.visionGetTime(),this.schedule(this.visionGetTime,1))},visionGetTime:function(){this.GetTime--;var t=this.node.getChildByName("GetBoX");if(0<this.GetTime){var e,i=t.getChildByName("Get").getChildByName("Time"),n=this.GetTime,o=this.AddZero(n%60);0<(n=d(n/60))?(e=this.AddZero(n%60),n=d(n/60)):e="00";var s=this.AddZero(n);i.getChildByName("TimeNum").getComponent(cc.Label).string=s+":"+e+":"+o}else this.visionGet(!0),MT.USER.setSave_DriedGetTime(),this.unschedule(this.visionGetTime)},visionShareGet:function(t){var e=this.node.getChildByName("GetBoX");t?(e.getChildByName("ShareGet").getChildByName("Time").active=!1,e.getChildByName("ShareGet").getChildByName("FishAdd").active=!0,this.ShareTime=MT.USER.DriedGetShareTime=0):(e.getChildByName("ShareGet").getChildByName("Time").active=!0,e.getChildByName("ShareGet").getChildByName("FishAdd").active=!1,this.ShareTime++,this.visionShareTime(),this.schedule(this.visionShareTime,1))},visionShareTime:function(){this.ShareTime--;var t=this.node.getChildByName("GetBoX");if(0<this.ShareTime){var e,i=t.getChildByName("ShareGet").getChildByName("Time"),n=this.ShareTime,o=this.AddZero(n%60);0<(n=d(n/60))?(e=this.AddZero(n%60),n=d(n/60)):e="00";var s=this.AddZero(n);i.getChildByName("TimeNum").getComponent(cc.Label).string=s+":"+e+":"+o}else this.visionShareGet(!0),MT.USER.setSave_DriedGetShareTime(),this.unschedule(this.visionShareTime)},visionVideoGet:function(t){var e=this.node.getChildByName("GetBoX");t?(e.getChildByName("VideoGet").getChildByName("Time").active=!1,e.getChildByName("VideoGet").getChildByName("FishAdd").active=!0,MT.USER.DriedGteVideoTime=this.VideoTime=0):(e.getChildByName("VideoGet").getChildByName("Time").active=!0,e.getChildByName("VideoGet").getChildByName("FishAdd").active=!1,this.VideoTime++,this.visionVideoTime(),this.schedule(this.visionVideoTime,1))},visionVideoTime:function(){var t=this.node.getChildByName("GetBoX");if(this.VideoTime--,0<this.VideoTime){var e,i=t.getChildByName("VideoGet").getChildByName("Time"),n=this.VideoTime,o=this.AddZero(n%60);0<(n=d(n/60))?(e=this.AddZero(n%60),n=d(n/60)):e="00";var s=this.AddZero(n);i.getChildByName("TimeNum").getComponent(cc.Label).string=s+":"+e+":"+o}else this.visionVideoGet(!0),MT.USER.setSave_DriedGteVideoTime(),this.unschedule(this.visionVideoTime)},AddZero:function(t){return 10>t?"0"+t:""+t},getTimeSecond:function(){return d((new Date).getTime()/1e3)},onButtonGet:function(){i.playEffect("button"),0==MT.USER.DriedGetTime?(MT.USER.DriedFishNum+=MT.GLOBAL.REWARD_NUM,MT.USER.setSave_DriedFishNum(),Hint_YvesYu.createHint("\u5956\u52b1 + 1!",this.node,30,0),MT.USER.DriedGetTime=this.getTimeSecond()+10800,MT.USER.setSave_DriedGetTime(),this.GetTime=10800,this.visionGet(!1),this.Father.DownFishNum()):Hint_YvesYu.createHint("\u8bf7\u5012\u8ba1\u65f6\u7ed3\u675f,\u518d\u6765\u9886\u53d6!",this.node)},onButtonShare:function(){i.playEffect("button"),0==MT.USER.DriedGetShareTime?(Load_YvesYu.createLoading(this.node),console.log("\u8c03\u7528\u5206\u4eab"),MT.MODULE.setShareCall(this.ShareCall.bind(this))):Hint_YvesYu.createHint("\u8bf7\u5012\u8ba1\u65f6\u7ed3\u675f,,\u518d\u6765\u9886\u53d6!",this.node)},ShareCall:function(){showModal("\u9886\u53d6\u5956\u52b1","\u5956\u52b1+1!",!1,function(){MT.USER.DriedFishNum+=MT.GLOBAL.REWARD_NUM,MT.USER.setSave_DriedFishNum(),MT.USER.DriedGetShareTime=this.getTimeSecond()+3600,MT.USER.setSave_DriedGetShareTime(),this.ShareTime=3600,this.visionShareGet(!1),this.Father.DownFishNum(),Load_YvesYu.finishLoading()}.bind(this),function(){}.bind(this))},onButtonVideo:function(){if(i.playEffect("button"),0==MT.USER.DriedGteVideoTime){console.log("\u89c6\u9891\u56de\u8c03")}else Hint_YvesYu.createHint("\u8bf7\u5012\u8ba1\u65f6\u7ed3\u675f,\u518d\u6765\u9886\u53d6!",this.node)},start:function(){},deleteSelf:function(){i.playEffect("button"),this.node.destroy()}}),cc._RF.pop()},{}],global:[function(t,e,i){"use strict";cc._RF.push(e,"ba01fOwbIdMeLavYocGZ1cd","global");var n={loadScene:function(t){WAITMGR.showWaitLayer(),cc.director.preloadScene(t,function(t,e,i){},function(e){e?console.log("\u52a0\u8f7d\u5931\u8d25",e):(WAITMGR.hideWaitLayer(),cc.director.loadScene(t))})},constData:{app_id:"wx0f9d8c3d1a08e446",app_config:"https://appicon-1254192987.file.myqcloud.com/mazeCat.json",self_app:{},otherApps:[]},catFace:[],houseSp:[],playerInfo:{},firstLogin:!1,inviteUser:[],FRIEND_SHARE_REWARD_NUM:2,gameGongGao:null,MAP:null};n.constData.CONST_WORDS={hdzy:"\u56de\u5230\u4e3b\u9875 >>",model0:"\u666e\u901a\u6a21\u5f0f",model1:"\u9650\u65f6\u6a21\u5f0f",model2:"\u72c2\u6b22\u6a21\u5f0f",model3:"\u6e9c\u51b0\u6a21\u5f0f",model4:"\u63a2\u9669\u6a21\u5f0f",model5:"\u9677\u9631\u6a21\u5f0f"},n.tokenValidTime=36e3,n.TIPMESSAGE={sjyc:"\u65f6\u95f4\u6210\u529f\u589e\u52a0",limitTip:"\u63d0\u793a\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650!",noTrap:"\u9677\u9631\u5df2\u5168\u90e8\u6e05\u9664",trapRemove:"\u6d88\u9664\u4e00\u4e2a\u9677\u9631\u6210\u529f",noDog:"\u602a\u7269\u5df2\u5168\u90e8\u6e05\u9664",dogRemove:"\u6d88\u9664\u4e00\u4e2a\u602a\u7269\u6210\u529f"},n.CONST_TEXT={GuanButtonJs:"MazeRecruit_GuanButtonJs",GuanScrollVieJs:"MazeRecruit_GuanScrollVieJs",GameOverJs:"gameOver",initGameJs:"MazeRecruit_InitGameJs",WellActionJs:"wallAction",GameOverJS:"gameOver",FootPrintJs:"footPrint",PauseJs:"pause",HintJs:"hint",CatJs:"hero",FishJs:"goal",DogJs:"monster",GameOneHelpJs:"MazeRecruit_GameOneHelpJs",BuyTheSkinJs:"MazeRecruit_BuyTheSkinJs",GetMoreStar:"getMoreStar",DiredFish:"addHint",FaceJs:"face",Cat_Skin:"MazeRecruit_Cat_Skin",VideoAndShare:"video_and_share",ComPer:"MazeRecruit_common_mode",TimePer:"MazeRecruit_time_mode",DogPer:"MazeRecruit_dog_mode",SkatPer:"MazeRecruit_skating_mode",NightPer:"MazeRecruit_night_mode",TrapPer:"MazeRecruit_trap_mode",SkinArr:"MazeRecruit_skin",DriedFishNum:"MazeRecruit_dried_fishNum",DriedGteVideoTime:"MazeRecruit__driedGteVideoTime",DriedGetShareTime:"MazeRecruit__driedGetShareTime",DriedGetTime:"MazeRecruit__driedGetTime"},n.GAME_SETTING={Props_Base_Gold:800,Key_OncePlayerTime:"begingGameTime",Key_OncePlayerTimeDay:"begingGameTimeDay",Key_NewPlayer:"isNewPlayer",Key_Gold:"Key_Gold",Key_Music:"Key_BgMusic",Key_Sound:"Key_Sound",_SceneScale:1,_offsetX:0,_offsetY:0,Language_ch:!0},n.normalStageNum=100,n.iceStageNum=45,n.trapFreshTime=8,n.REWARD_NUM=1,n.PRICE=1,n.appraise=["\u771f\u68d2","\u5b8c\u7f8e","\u4f18\u79c0","\u592a\u5389\u5bb3\u4e86"],e.exports=n,cc._RF.pop()},{}],goal:[function(t,e,i){"use strict";cc._RF.push(e,"12f3ai3d7VHW5JuG2zgHX9F","goal"),cc.Class({extends:cc.Component,properties:{},start:function(){},deleteSelf:function(){this.node.destroy()}}),cc._RF.pop()},{}],hero:[function(t,e,i){"use strict";cc._RF.push(e,"1e536f9kXtLhoPxeGYaGWsv","hero"),cc.Class({extends:cc.Component,properties:{FacePoin:cc.Sprite,Father:{default:null}},onLoad:function(){},updateSink:function(){},initCatSkin:function(){this.time=0,this.node.active=!0,this.node.scale=1},rundieAction:function(){var t=cc.scaleTo(.5,.05);this.node.runAction(cc.sequence(t,cc.callFunc(function(){this.visiondieState()}.bind(this))))},visiondieState:function(){this.time=0,this.schedule(this.dieCall,1);var t=cc.scaleTo(.2,.2);this.node.runAction(t)},dieCall:function(){this.time++,1<this.time&&(this.time=0)},deleteSelf:function(){this.node.destroy()},onCollisionEnter:function(t,e){this.Father.impact&&this.Father.ImpactOfZoon(t,e)},hideAcion:function(){for(var t=0;4!=t;t++)this.node.getChildByName("arrow_"+t).active=!1},showAction:function(t){var e=this.node.getChildByName("arrow_"+t);e.active=!0,e.stopAllActions(),e.runAction(this.getArrowAction())},setDirection:function(t){t.x>this.node.x+10?this.FacePoin.node.angle=90:t.x<this.node.x-10?this.FacePoin.node.angle=-90:t.y>this.node.y+10?this.FacePoin.node.angle=-180:this.FacePoin.node.angle=0},start:function(){for(var t=0;4!=t;t++)this.node.getChildByName("arrow_"+t).runAction(this.getArrowAction())},getArrowAction:function(){return cc.repeatForever(cc.sequence(cc.scaleTo(1.8,.7),cc.scaleTo(1.8,1.1)))}}),cc._RF.pop()},{}],hintAction:[function(t,e,i){"use strict";cc._RF.push(e,"fcff3101tZEDbR+xwK7LttR","hintAction"),cc.Class({extends:cc.Component,properties:{BackGround:cc.Node,Text:cc.Label},onLoad:function(){this.heig,this.index},initHint:function(t,e){this.Text.getComponent(cc.Label).string=t,this.scheduleOnce(this.nextFrame_1,2/60),this.node.opacity=0,this.index=e,this.scheduleOnce(this.deleteHint,2)},setindex:function(t){this.index=t},nextFrame_1:function(){380<=this.Text.node.width?(this.Text.getComponent(cc.Label).overflow=3,this.Text.node.width=380,this.scheduleOnce(this.nextFrame_2,2/60)):this.nextFrame_2()},nextFrame_2:function(){this.node.opacity=255,this.Text.node.width;var t=this.Text.node.width;this.BackGround.width=t+20,t=this.Text.node.height,this.BackGround.height=t+20,this.heig=t+110;var e=cc.moveBy(.2,0,5),i=cc.fadeOut(10);this.node.runAction(cc.repeatForever(i)),this.node.runAction(e),Hint_YvesYu.ImprovePosition(this.heig,this.index)},deleteHint:function(){Hint_YvesYu.deleteHint(this.index),this.node.destroy()},start:function(){}}),cc._RF.pop()},{}],hint:[function(t,e,i){"use strict";cc._RF.push(e,"25664f/VfxNYJFu4ntVZhRv","hint"),cc.Class({extends:cc.Component,properties:{Father:{default:null}},initHint:function(t){this.node.getChildByName("HintBox").getChildByName("Hint_Text").getChildByName("Num").getComponent(cc.Label).string=t},start:function(){},onButtonDriedFish:function(){MT.AUDIOMGR.playEffect("button"),MT.GLOBAL.PRICE<=MT.USER.DriedFishNum?(MT.USER.DriedFishNum-=MT.GLOBAL.PRICE,MT.USER.setSave_DriedFishNum(),this.UseHint()):(console.log("\u6570\u91cf\u4e0d\u8db3"),Hint_YvesYu.createHint("\u63d0\u793a\u6570\u91cf\u4e0d\u8db3!",this.node))},onButtonVideo:function(){},onButtonShare:function(){MT.AUDIOMGR.playEffect("button")},ShareCall:function(){},UseHint:function(){this.Father.UseHint(),this.onButtonClose()},onButtonClose:function(){MT.AUDIOMGR.playEffect("button"),this.node.destroy(),this.Father.recoverTimeCall()}}),cc._RF.pop()},{}],httpLogic:[function(t,e,i){"use strict";cc._RF.push(e,"e7ae5sB6LZPobVrcfRLbFTV","httpLogic");var n={loginFailedCnt:0,doLogin:function(){var t=this,e=cc.sys.localStorage.getItem("sessionid");console.log("sessionid",e),e&&""!=e?this.checkToken():(console.log("WXLogin"),MT.WXHELPER.WXLogin(function(e){t.onLoginSuccess(e)},function(){t.onLoginFailed()},!0))},onLoginFailed:function(){console.log("onLoginFailed,\u4e0d\u505a\u5904\u7406")},onLoginSuccess:function(t){if(console.log("HTTP:onLoginSuccess",t),t.result){var e=JSON.parse(t.result);e.lastOnlineTime&&e.lastOnlineTime>MT.USER.lastOnlineTime&&MT.USER.initFromServer(e),console.log(e,"++onLoginSuccess++")}else MT.USER.initFromServer(null),console.log("error","++onLoginSuccess++");MT.WXHELPER.getLaunchOptions()},checkToken:function(){var t=this,e=MT.USER.lastOnlineTime;(Date.now()-e)/1e3>MT.GLOBAL.tokenValidTime?MT.WXHELPER.WXLogin(function(e){t.onLoginSuccess(e)},function(){t.onLoginFailed()}):HttpServer.getUserData(function(e){t.onLoginSuccess(e)},null)}};e.exports=n,cc._RF.pop()},{}],inviteFriend:[function(t,e,i){"use strict";cc._RF.push(e,"8b1680zPs9BnL0THTfZNU+W","inviteFriend");var n=function(t){return t&&t.__esModule?t:{default:t}}(t("./friendList/FriendListView"));var o=t("./friendList/FriendListAdapter"),s=function t(e,i,n,o,s){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.m_openId="",this.m_name="",this.m_icon="",this.m_isDraw=!1,this.m_shareType=0,this.m_openId=e,this.m_name=i,this.m_icon=n,this.m_isDraw=o,this.m_shareType=s};cc.Class({extends:cc.Component,properties:{inviteItem:cc.Prefab,content:cc.Node,m_sendFriendQueryTime:0,listView:n.default},openInviteFriend:function(){var t=this;Date.now()-this.m_sendFriendQueryTime<=6e4?this.setVisible():HttpServer.invitePlayerQuery(10,function(e){t.m_sendFriendQueryTime=Date.now(),MT.GLOBAL.inviteUser=[],console.log("openInviteFriend success",e.inviteUser);var i=e.inviteUser;if(!i||0==i.length)return t.setVisible(),void t.initData();for(var n=0;n<i.length;n++){var o=new s(i[n].openid,i[n].name,i[n].iconUrl,i[n].isDraw,i[n].shareType);MT.GLOBAL.inviteUser.push(o)}t.setVisible(),t.initData()})},onLoad:function(){this.onBtnClose()},initData:function(){for(var t=new o,e=[],i=0;i<100;i++){var n={};n.i=i,MT.GLOBAL.inviteUser[i]?n.data=MT.GLOBAL.inviteUser[i]:n.data=null,e.push(n)}t.setDataSet(e),this.listView.setAdapter(t)},start:function(){},onShow:function(){this.openInviteFriend()},setVisible:function(){this.node.active=!0},onBtnClose:function(){this.node.active=!1}}),cc._RF.pop()},{"./friendList/FriendListAdapter":"FriendListAdapter","./friendList/FriendListView":"FriendListView"}],inviteItem:[function(t,e,i){"use strict";cc._RF.push(e,"651f7cnnsRLTruviqKEMltx","inviteItem"),cc.Class({extends:cc.Component,properties:{txtIndex:cc.Label,btn_receive:cc.Node,userIcon:cc.Sprite,btnInvite:cc.Button,btn_receive_sp:cc.SpriteFrame,btn_receive_sp02:cc.SpriteFrame},start:function(){},setData:function(t){var e=this;this.m_data=t.data,this.updateIndex(t.i),null==this.m_data?(this.btn_receive.active=!1,this.btnInvite.interactable=!0,this.userIcon.node.parent.active=!1):(this.btn_receive.active=!0,this.m_data.m_isDraw?(this.btn_receive.getComponent(cc.Sprite).spriteFrame=this.btn_receive_sp,this.btn_receive.getComponent(cc.Button).interactable=!1):(this.btn_receive.getComponent(cc.Sprite).spriteFrame=this.btn_receive_sp02,this.btn_receive.getComponent(cc.Button).interactable=!0),cc.loader.load({url:this.m_data.m_icon,type:"png"},function(t,i){t&&console.error(t),e.userIcon.spriteFrame=new cc.SpriteFrame(i),e.userIcon.node.parent.active=!0}),this.btnInvite.interactable=!1)},updateIndex:function(t){this.index=Number(t),this.txtIndex.string=Number(t)+1},onBtnInvite:function(){MT.AUDIOMGR.playEffect("button");var t=Math.floor(Math.random()*MT.GLOBAL.constData.self_app.shareImgs.length);MT.WXHELPER.share(MT.GLOBAL.constData.self_app.name,MT.GLOBAL.constData.self_app.shareImgs[t],"",function(){console.log("login--onBtnShare",MT.GLOBAL.constData.self_app.name,MT.GLOBAL.constData.self_app.shareImgs[t])})},onBtnGet:function(){var t=this;this.btn_receive.getComponent(cc.Button).interactable=!1,MT.AUDIOMGR.playEffect("button"),HttpServer.updateFriendDraw(this.m_data.m_openId,function(){t.onDrawSuccess()})},onDrawSuccess:function(){var t=this;MT.USER.DriedFishNum+=MT.GLOBAL.FRIEND_SHARE_REWARD_NUM,MT.USER.setSave_DriedFishNum();var e=void 0;e.data=null,e.i=this.index,MT.GLOBAL.inviteUser.every(function(i,n,o){return n!=t.index||(MT.GLOBAL.inviteUser[n].m_isDraw=!0,e.data=MT.GLOBAL.inviteUser[n],!1)}),cc.loader.loadRes("prefabs/tipLayer",cc.Prefab,function(t,e){if(!t){var i=cc.instantiate(e);cc.find("Canvas").addChild(i),i.getChildByName("FishTwinkle").runAction(cc.blink(1.5,3)),i.getChildByName("btn_Sure").on("click",function(){i.removeFromParent()},i)}}),this.setData(e),this.m_data.m_isDraw&&(this.btn_receive.getComponent(cc.Button).interactable=!this.m_data.m_isDraw,cc.loader.loadRes("image/textures/invite/btn_receive",cc.SpriteFrame,function(e,i){e||(t.btn_receive.getComponent(cc.Sprite).spriteFrame=i)}))}}),cc._RF.pop()},{}],item:[function(t,e,i){"use strict";cc._RF.push(e,"32f17Mf/KlPErxW/Ic7cFR1","item");var n=new cc.v2(0,57),o=new cc.v2(0,112);cc.Class({extends:cc.Component,properties:{Bottom_IconOn:cc.Node,img:cc.Node,modelName:cc.Node},onLoad:function(){this.reset()},start:function(){},reset:function(){this.Bottom_IconOn.active=!1,this.modelName.active=!1,this.img.position=n},onSelected:function(){this.Bottom_IconOn.active=!0,this.modelName.active=!0,this.img.position=o,this.Bottom_IconOn.stopAllActions(),this.img.stopAllActions(),this.img.active=!0;var t=cc.scaleTo(.1,1.05,1.05),e=cc.scaleTo(.1,.95,.95),i=cc.scaleTo(.1,1,1);this.img.runAction(cc.sequence(cc.scaleTo(.1,1.05,1.05),cc.scaleTo(.1,.95,.95),cc.scaleTo(.1,1.05,1.05),cc.scaleTo(.1,.95,.95),cc.scaleTo(.1,1,1))),this.Bottom_IconOn.runAction(cc.sequence(t,e,t,e,i))}}),cc._RF.pop()},{}],login:[function(t,e,i){"use strict";cc._RF.push(e,"7c6b2HNysBFTKKbuEQ+ZCPU","login"),cc.Class({extends:cc.Component,properties:{advertisingIcon:cc.Node,Like:cc.Node,wxRankPanelPrefab:cc.Prefab,btnMusicON:cc.Node,btnMusicOFF:cc.Node,followLayerPrefab:cc.Prefab,fengche:cc.Node,signInUIPrefab:cc.Prefab,inviteFriendPrefab:cc.Prefab},onLoad:function(){console.log(MT.AUDIOMGR),MT.MODULE.initModule(),MT.USER.Music,MT.USER.Music||MT.AUDIOMGR.setSoundSilence(!0),MT.WXHELPER.wxOnShow(),this.setMusicBtnStatus(),this.fengche.runAction(cc.repeatForever(cc.rotateBy(.5,-300))),this.fengche.parent.runAction(cc.repeatForever(cc.sequence(cc.rotateTo(2,30),cc.rotateTo(2,-30)))),cc.director.preloadScene("selectionScene")},start:function(){},onButtonStartGame:function(){MT.AUDIOMGR.playEffect("button"),MT.WXHELPER.hideGameClubBtn(),MT.GLOBAL.firstLogin=!0,MT.GLOBAL.loadScene("selectionScene")},onBtnShare:function(){MT.AUDIOMGR.playEffect("button");var t=Math.floor(Math.random()*MT.GLOBAL.constData.self_app.shareImgs.length);MT.WXHELPER.share(MT.GLOBAL.constData.self_app.name,MT.GLOBAL.constData.self_app.shareImgs[t],"",function(){console.log("login--onBtnShare",MT.GLOBAL.constData.self_app.name,MT.GLOBAL.constData.self_app.shareImgs[t])})},onBtnShowInviteLayer:function(){null==this.inviteFriendLayer&&(this.inviteFriendLayer=cc.instantiate(this.inviteFriendPrefab),this.inviteFriendLayer.position=cc.v2(0,0),this.node.addChild(this.inviteFriendLayer)),this.inviteFriendLayer.getComponent("inviteFriend").onShow()},onBtnShowRank:function(){this.showWXRankPanel()},onBtnDateSign:function(){null==this.signInUI&&(this.signInUI=cc.instantiate(this.signInUIPrefab),this.signInUI.position=cc.v2(0,0),this.node.addChild(this.signInUI)),this.signInUI.getComponent("signTask").onShow()},showWXRankPanel:function(){null==this.wxRankPanel&&(this.wxRankPanel=cc.instantiate(this.wxRankPanelPrefab),this.wxRankPanel.position=cc.v2(0,0),this.node.getChildByName("wxRankNode").addChild(this.wxRankPanel)),this.wxRankPanel.getComponent("wxRank").onGetWXFriendInfo(),this.wxRankPanel.getComponent("wxRank").onShowVRank()},setMusicBtnStatus:function(){this.btnMusicON.active=MT.USER.Music,this.btnMusicOFF.active=!MT.USER.Music},onButtonMusic:function(){MT.USER.Music?(MT.USER.Music=!1,MT.AUDIOMGR.setSoundSilence(!0),MT.USER.Sound=!1,MT.AUDIOMGR.stopMusic(),this.setMusicBtnStatus()):(MT.USER.Music=!0,MT.USER.Sound=!0,this.setMusicBtnStatus(),MT.AUDIOMGR.setSoundSilence(!1),MT.AUDIOMGR.playMusic("BackMusic",!0,.5,!1)),MT.USER.setSave_Music(),MT.AUDIOMGR.playEffect("button")},btnOnFollowLayer:function(){this.node.getChildByName("mainNode").addChild(cc.instantiate(this.followLayerPrefab))}}),cc._RF.pop()},{}],monster:[function(t,e,i){"use strict";cc._RF.push(e,"c5f2fTfKI5NSp4jrvJQXqHj","monster"),cc.Class({extends:cc.Component,properties:{Dog_0:{default:[],type:cc.SpriteFrame},Dog_1:{default:[],type:cc.SpriteFrame},Dog_2:{default:[],type:cc.SpriteFrame}},onLoad:function(){var t=r(2*Math.random());switch(this.DogSkin=null,t){case 0:this.DogSkin=this.Dog_0;break;case 1:this.DogSkin=this.Dog_1;break;case 2:this.DogSkin=this.Dog_2}this.time=0,this.node.getComponent(cc.Sprite).spriteFrame=this.DogSkin[this.time],this.schedule(this.qieHuanDogSkin,1),this.RunType=!1,this.RunPosition,this.runTiam,this.getRunTiem()},qieHuanDogSkin:function(){this.time++,1<this.time&&(this.time=0),this.node.getComponent(cc.Sprite).spriteFrame=this.DogSkin[this.time]},getRunTiem:function(){this.runTiam=(r(4*Math.random())+3)/10},setDogRunAction:function(t){30>r(100*Math.random())&&this.getRunTiem(),this.RunType=!0;var e=cc.moveTo(this.runTiam,t.x,t.y);this.node.runAction(cc.sequence(e,cc.callFunc(function(){this.RunType=!1}.bind(this))))},deleteSelf:function(){this.node.destroy()},RunState:function(){return this.RunType},start:function(){}}),cc._RF.pop()},{}],moreGame:[function(t,e,i){"use strict";cc._RF.push(e,"644e56tzlRKd54FDlq0Z/HY","moreGame"),cc.Class({extends:cc.Component,properties:{},start:function(){},onBoxClick:function(){this.jumpToOther(this.m_curBoxID)}}),cc._RF.pop()},{}],mtModule:[function(t,e,i){"use strict";cc._RF.push(e,"6b699tpphdDMq2zTtjEdlym","mtModule");var n={Module:null,ShareCall:null,initModule:function(){var t=new MT.PUBLIC;t.onLoad(),t.initView(),t.pushPrefab(t._hint),t.pushPrefab(t._load),(new Date).getTime(),t.registerLoadResourceEndCallBack(n.onResourceLoaded.bind(this)),t.preloadResources(),n.Module=t,console.log("time"+(new Date).getTime())},setShareCall:function(t){this.ShareCall=t,console.log("\u6e38\u620f\u56de\u8c03\u8bbe\u7f6e"+this.ShareCall)},WxShareCall:function(){console.log("\u6e38\u620f\u56de\u8c03\u8bbe\u7f6e11111111"+this.ShareCall),null!=this.ShareCall&&(this.ShareCall(),this.ShareCall=null)},onResourceLoaded:function(){Hint_YvesYu.initHint(n.Module._resources[n.Module._hint]),Load_YvesYu.initLoading(n.Module._resources[n.Module._load])}};e.exports=n,cc._RF.pop()},{}],mtPublic:[function(t,e,i){"use strict";cc._RF.push(e,"e557c/dOLBDLK7yzsV7lK5P","mtPublic");var n=cc.Class({onLoad:function(){this._resources={},this._preloadList=[],this._loadCount=0,this._loadResourceProgressCallBack=[],this._loadResourceEndCallBack=[],this._hint=null,this._load=null},initView:function(){this._hint="prefabs/hint",this._load="prefabs/loading_pre"},registerLoadResourceProgressCallBack:function(t){this._loadResourceProgressCallBack.push(t)},registerLoadResourceEndCallBack:function(t){this._loadResourceEndCallBack.push(t)},loadResource:function(t,e,i){var n=function(e,n){i(e,n,t)};"SpriteFrame"===e?cc.loader.loadRes(t,cc.SpriteFrame,n):"SpriteAtlas"===e?cc.loader.loadRes(t,cc.SpriteAtlas,n):"Spine"===e?cc.loader.loadRes(t,sp.SkeletonData,n):"Animation"===e||"Prefab"===e||"Scene"===e||"Texture"===e||"Txt"===e||"Audio"===e?cc.loader.loadRes(t,n):cc.loader.load(t,n)},isUrlLegal:function(t){return t&&0<t.length},pushPrefab:function(t){this.isUrlLegal(t)&&this._preloadList.push([t,"Prefab"])},pushSpriteFrame:function(t){this.isUrlLegal(t)&&this._preloadList.push([t,"SpriteFrame"])},pushSpriteAtlas:function(t){this.isUrlLegal(t)&&this._preloadList.push([t,"SpriteAtlas"])},pushTexture:function(t){this.isUrlLegal(t)&&this._preloadList.push([t,"Texture"])},pushScene:function(t){this.isUrlLegal(t)&&this._preloadList.push([t,"Scene"])},preloadResources:function(t){if(t&&0<t.length)for(var e=0;e<this._preloadList.length;e++)this._preloadList.push(t[e]);for(var i=0;i<this._preloadList.length;i++){var n=this._preloadList[i][0],o=this._preloadList[i][1];this.loadResource(n,o,this.preLoadCallBack.bind(this))}},preLoadCallBack:function(t,e,i){if(t)console.log(t);else{this._loadCount++,this._resources[i]=e;var n=this._preloadList.length;if(0<this._loadResourceProgressCallBack.length)for(var o=0;o<this._loadResourceProgressCallBack.length;o++)(0,this._loadResourceProgressCallBack[o])(this._loadCount/n);if(this._loadCount>=n&&0<this._loadResourceEndCallBack.length)for(var s=this._loadResourceEndCallBack.length,a=0;a<s;a++)(0,this._loadResourceEndCallBack[a])()}},onDestroy:function(){}});e.exports=n,cc._RF.pop()},{}],mt:[function(t,e,i){"use strict";cc._RF.push(e,"588b5vHE3xO46mByCZ56Efs","mt"),window.MT={},MT.GLOBAL=t("global"),MT.USER=t("user"),MT.PUBLIC=t("mtPublic"),MT.MODULE=t("mtModule"),MT.AUDIOMGR=t("audioMgr"),MT.WXHELPER=t("wxHelper"),window.HttpServer=t("HttpServer"),window.HttpLogic=t("httpLogic"),window.WAITMGR=t("WaitMgr"),window.Arr_YvesYu={removeArrayIndex:function(t,e){for(var i=[],n=0;n<t.length;n++)n!=e&&i.push(t[n]);return i},getArrayFirstData:function(t){return 0<t.length?t[0]:null},deleteArrayFirstData:function(t){for(var e=[],i=1;i<t.length;i++)e.push(t[i]);return e},getArrayFinallyData:function(t){return 0<t.length?t[t.length-1]:null},deleteArrayFinallyData:function(t){for(var e=[],i=0;i<t.length-1;i++)e.push(t[i]);return e}},window.p=Math.abs,window.r=Math.round,window.d=Math.floor,MT.MazeRecruit_Group={getMazeRecruit_Zoon:function(){return"zoon_group"}},MT.getCanShare=function(){if(cc.sys.platform!==cc.sys.WECHAT_GAME)return!1},window.Hint_YvesYu={m_hint:null,m_HintArr:[],initHint:function(t){Hint_YvesYu.m_hint=t},createHint:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:360,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:640;if(Hint_YvesYu.m_hint){var o=cc.instantiate(Hint_YvesYu.m_hint);0!=Hint_YvesYu.m_HintArr.length&&(Hint_YvesYu.m_HintArr[Hint_YvesYu.m_HintArr.length-1].removeFromParent(),Hint_YvesYu.m_HintArr.pop()),o.getComponent("hintAction").initHint(t,Hint_YvesYu.m_HintArr.length),o.position=cc.v2(i,n),Hint_YvesYu.m_HintArr.push(o),e.addChild(o)}},deleteHint:function(t){Hint_YvesYu.m_HintArr=Arr_YvesYu.removeArrayIndex(Hint_YvesYu.m_HintArr,t);for(var e=0;e<Hint_YvesYu.m_HintArr.length;e++)""!=Hint_YvesYu.m_HintArr[e].name&&Hint_YvesYu.m_HintArr[e].getComponent("hintAction").setindex(e)},ImprovePosition:function(t,e){for(var i=Hint_YvesYu.m_HintArr.length-1;0<=i;i--)Hint_YvesYu.m_HintArr[i]&&i!=e&&""!=Hint_YvesYu.m_HintArr[i].name&&(Hint_YvesYu.m_HintArr[i].y=t+Hint_YvesYu.m_HintArr[i].y)}},window.Load_YvesYu={m_Loading:null,m_Load:null,initLoading:function(t){Load_YvesYu.m_Loading=t},createLoading:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;console.log("\u52a0\u8f7dLoad"),Load_YvesYu.m_Loading&&(Load_YvesYu.m_Load||(console.log("\u52a0\u8f7dLoad111"),Load_YvesYu.m_Load=cc.instantiate(Load_YvesYu.m_Loading),console.log("------------------------"),console.log(Load_YvesYu.m_Loading),console.log(Load_YvesYu.m_Load),console.log("\u52a0\u8f7dLoad22 +++ "+Load_YvesYu.m_Load.name),console.log("\u52a0\u8f7dLoad33 +++ "+t.name),Load_YvesYu.m_Load.position=cc.v2(e,i),t.addChild(Load_YvesYu.m_Load)))},finishLoading:function(){console.log("\u56de\u8c03\u5224\u65ad"),""==Load_YvesYu.m_Load.name?Load_YvesYu.m_Load=null:(console.log("11"),Load_YvesYu.m_Load.getComponent("YvesYu_loadingJs").finishLoading())},setM_LoadNull:function(){Load_YvesYu.m_Load=null}},MT.wxVideoId="",window.showModal=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:function(){},o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:function(){};wx.showModal({title:t,content:e,showCancel:i,cancelText:"\u53d6\u6d88",confirmText:"\u786e\u5b9a",success:n,fail:o})},cc._RF.pop()},{HttpServer:"HttpServer",WaitMgr:"WaitMgr",audioMgr:"audioMgr",global:"global",httpLogic:"httpLogic",mtModule:"mtModule",mtPublic:"mtPublic",user:"user",wxHelper:"wxHelper"}],notice:[function(t,e,i){"use strict";cc._RF.push(e,"13894USfq5NMJw0fGlMvFe2","notice"),cc.Class({extends:cc.Component,properties:{txtNotice:cc.Label},start:function(){},onShow:function(){MT.GLOBAL.gameGongGao&&""!=MT.GLOBAL.gameGongGao?this.txtNotice.string=MT.GLOBAL.gameGongGao:this.txtNotice.string="\u6682\u65e0\u516c\u544a",this.node.active=!0},onHide:function(){MT.WXHELPER.showCreateUserInfoButton(),this.node.active=!1}}),cc._RF.pop()},{}],page:[function(t,e,i){"use strict";cc._RF.push(e,"8c5cbmOvhdMtKb/zqn7yrhw","page"),cc.Class({extends:cc.Component,properties:{modelID:-1,title:cc.Label,btnSubModelArr:{default:[],type:cc.Node}},onLoad:function(){this.modelID<0&&console.log("\u672a\u521d\u59cb\u5316modelID"),this.title.string=MT.GLOBAL.constData.CONST_WORDS["model"+this.modelID];var t=null,e=20;switch(this.modelID){case 0:t=MT.USER.ComPer,console.log("____\u91d1\u5178");break;case 1:t=MT.USER.TimePer,console.log("____\u9650\u65f6");break;case 2:t=MT.USER.DogPer,console.log("____\u72c2\u6b22");break;case 3:t=MT.USER.SkatPer,console.log("____\u6e9c\u51b0"),e=9;break;case 4:t=MT.USER.NightPer,console.log("____\u9ed1\u591c");break;case 5:t=MT.USER.TrapPer,console.log("____\u9677\u9631");break;default:console.log("\u5173\u5361\u7c7b\u578b\u9519\u8bef")}for(var i=0;i!=this.btnSubModelArr.length;i++){var n=this.btnSubModelArr[i].getChildByName("progressBar"),o=n.getChildByName("txtProgress");n.getComponent(cc.ProgressBar).progress=(t[i]-1)/e,o.getComponent(cc.Label).string=((t[i]-1)/e*100).toFixed(0)+"%"}},onBtnSelectStage:function(t,e){MT.AUDIOMGR.playEffect("button"),MT.USER.SUBMODEL=e,MT.GLOBAL.loadScene("customScene")},start:function(){}}),cc._RF.pop()},{}],pause:[function(t,e,i){"use strict";cc._RF.push(e,"dfce59eBedJDol4Agw7Ll8O","pause"),cc.Class({extends:cc.Component,properties:{Father:{default:null}},onLoad:function(){MT.USER.Music||(this.node.getChildByName("pauseBox").getChildByName("Music").getChildByName("Box").getChildByName("on").active=!1),MT.USER.Sound||(this.node.getChildByName("pauseBox").getChildByName("Sound").getChildByName("Box").getChildByName("on").active=!1)},start:function(){},onButtonMusic:function(){MT.USER.Music?(MT.USER.Music=!1,MT.AUDIOMGR.stopMusic(),this.node.getChildByName("pauseBox").getChildByName("Music").getChildByName("Box").getChildByName("on").active=!1):(MT.USER.Music=!0,this.node.getChildByName("pauseBox").getChildByName("Music").getChildByName("Box").getChildByName("on").active=!0,MT.AUDIOMGR.playMusic("BackMusic",!0,.5,!1)),MT.USER.setSave_Music(),MT.AUDIOMGR.playEffect("button")},onButtonSound:function(){MT.USER.Sound?(MT.USER.Sound=!1,MT.AUDIOMGR.setSoundSilence(!0),this.node.getChildByName("pauseBox").getChildByName("Sound").getChildByName("Box").getChildByName("on").active=!1):(MT.USER.Sound=!0,MT.AUDIOMGR.setSoundSilence(!1),this.node.getChildByName("pauseBox").getChildByName("Sound").getChildByName("Box").getChildByName("on").active=!0),MT.USER.setSave_Sound(),MT.AUDIOMGR.playEffect("button")},onButtonReset:function(){MT.AUDIOMGR.playEffect("button"),this.Father.GameReset(),this.node.destroy()},onButtonHelp:function(){console.log("\u5e2e\u52a9\u754c\u9762"),MT.AUDIOMGR.playEffect("button")},onButtonHome:function(){MT.AUDIOMGR.playEffect("button"),MT.GLOBAL.loadScene("loginScene")},onButtonClose:function(){MT.AUDIOMGR.playEffect("button"),this.Father.buttonPauseOff(),this.node.destroy()}}),cc._RF.pop()},{}],pitfall:[function(t,e,i){"use strict";cc._RF.push(e,"7e2f4KYXU9N67bMmKQMsi+i","pitfall"),cc.Class({extends:cc.Component,properties:{},start:function(){},run:function(){var t=this,e=2900-this.node.x;this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(e/150,cc.v2(2900,0)),cc.rotateBy(e/150,-5e3*e/2900)),cc.callFunc(function(){t.node.removeFromParent()})))},stop:function(){this.node.stopAllActions()}}),cc._RF.pop()},{}],publicLogin:[function(t,e,i){"use strict";cc._RF.push(e,"882e8CvSLlJUbcczOrhYAdj","publicLogin"),cc.Class({extends:cc.Component,properties:{btnArr:{default:[],type:cc.Node},txtBestStage:cc.Label,noticeLayerPrefab:cc.Prefab},onLoad:function(){if(this.tryLoginTime=0,MT.USER.lastOnlineTime||MT.USER.initGame(),this.updateBestStageInfo(),1!=MT.GLOBAL.firstLogin){this.initOtherAppData(),WAITMGR.initWaitLayer();for(var t=0;t!=this.btnArr.length;t++)this.btnArr[t].active=!1;if(wx.getUpdateManager){var e=wx.getUpdateManager();e.onCheckForUpdate(function(t){console.log("\u83b7\u53d6\u66f4\u65b0",t.hasUpdate)}),e.onUpdateReady(function(){e.applyUpdate()}),e.onUpdateFailed(function(){})}else console.log("\u4e0d\u652f\u6301 wx.getUpdateManager")}else this.CreateWXGameClueBtn()},start:function(){1!=MT.GLOBAL.firstLogin&&this.onLogin()},initOtherAppData:function(){cc.loader.load(MT.GLOBAL.constData.app_config,function(t,e){if(t)cc.warn("loadExternalAsset error",url);else{MT.GLOBAL.constData.otherApps=e;for(var i=0;i<MT.GLOBAL.constData.otherApps.length;i++)if(MT.GLOBAL.constData.otherApps[i].appid==MT.GLOBAL.constData.app_id){MT.GLOBAL.constData.self_app=MT.GLOBAL.constData.otherApps[i],MT.GLOBAL.constData.otherApps.splice(i,1);break}}})},onLogin:function(){var t=this;MT.WXHELPER.initSystemInfo(),MT.WXHELPER.WXGetUserInfo(function(e){t.onGetUserInfo(e),console.log("login\u6210\u529f",e)})},updateBestStageInfo:function(){for(var t=0,e=0;e!=MT.USER.ComPer.length;e++)t=t+MT.USER.ComPer[e]+MT.USER.TimePer[e]+MT.USER.DogPer[e]+MT.USER.SkatPer[e]+MT.USER.NightPer[e]+MT.USER.TrapPer[e];t-=30,this.txtBestStage.string=t},doLogin:function(){var t=this,e=cc.sys.localStorage.getItem("sessionid");console.log("sessionid",e),e&&""!=e?this.checkToken():(console.log("WXLogin"),MT.WXHELPER.WXLogin(function(e){t.onLoginSuccess(e)},function(){t.onLoginFailed()},!0))},onLoginSuccess:function(t){if(console.log("onLoginSuccess",t),t.result){var e=JSON.parse(t.result);e.lastOnlineTime&&e.lastOnlineTime>MT.USER.lastOnlineTime&&(MT.USER.initFromServer(e),this.updateBestStageInfo()),console.log(e,"++onLoginSuccess++")}else MT.USER.initFromServer(null),console.log("error","++onLoginSuccess++");MT.WXHELPER.getLaunchOptions(),this.loading()},checkToken:function(){var t=this,e=MT.USER.lastOnlineTime;(Date.now()-e)/1e3>MT.GLOBAL.tokenValidTime?MT.WXHELPER.WXLogin(function(e){t.onLoginSuccess(e)},function(){t.onLoginFailed()}):HttpServer.getUserData(function(e){t.onLoginSuccess(e)},null)},onLoginFailed:function(){console.log("onLoginFailed");this.tryLoginTime<=3&&this.tryLoginTime++,this.tryLoginTime<=2?this.doLogin():this.loading()},onGetUserInfo:function(t){if(console.log(t,"++onGetUserInfo++"),t&&t.userInfo){var e=MT.GLOBAL.playerInfo;e.avatarUrl=t.userInfo.avatarUrl?t.userInfo.avatarUrl:"",e.city=t.userInfo.city,e.province=t.userInfo.province,e.country=t.userInfo.country,e.nickName=t.userInfo.nickName}this.doLogin()},CreateWXGameClueBtn:function(){var t=150/MT.GLOBAL.constData.screenScale;MT.WXHELPER.CreateGameClueBtn(9,t,40,40)},showNoticeLayer:function(){this.noticeLayer?this.noticeLayer.getComponent("notice").onShow():(this.noticeLayer=cc.instantiate(this.noticeLayerPrefab),this.noticeLayer.position=cc.v2(0,0),this.node.addChild(this.noticeLayer),this.noticeLayer.getComponent("notice").onShow())},onBtnOpenGongGao:function(){var t=this;MT.WXHELPER.hideCreateUserInfoButton(),null==MT.GLOBAL.gameGongGao?HttpServer.gongGaoQuery(function(){t.showNoticeLayer()}):this.showNoticeLayer()},loading:function(){if(this.CreateWXGameClueBtn(),1==MT.GLOBAL.firstLogin)MT.AUDIOMGR.playEffect("button"),MT.WXHELPER.hideGameClubBtn(),MT.GLOBAL.loadScene("selectionScene");else{MT.GLOBAL.firstLogin=!0;for(var t=0;t!=this.btnArr.length;t++)this.btnArr[t].active=!0}}}),cc._RF.pop()},{}],selection:[function(t,e,i){"use strict";cc._RF.push(e,"41d81c/Y85HlbSgtulHEmDW","selection");var n=function(t){var e=0;switch(t){case 2:e=1;break;case 4:e=2;break;case 5:e=3;break;case 1:e=4;break;case 3:e=5}return e};cc.Class({extends:cc.Component,properties:{classicItem:cc.Node,enemiesItem:cc.Node,iceFloorItem:cc.Node,fogItem:cc.Node,trapsItem:cc.Node,timeTrialItem:cc.Node,defaultModeItem:cc.Node,subModel:cc.PageView,modelScroll:cc.ScrollView,btnArrowLeft:cc.Node,btnArrowRight:cc.Node,modelItemsArr:{default:[],type:cc.Node}},onLoad:function(){WAITMGR.showWaitLayer(),this.onBuType=0,this.preButton=null,this.modeType=-1},start:function(){var t={target:MT.USER.SUBMODEL?this.modelItemsArr[n(MT.USER.CustomsSize)]:this.modelItemsArr[0]};this.onBtnSetMode(t,t.target.getComponent(cc.Button).clickEvents[0].customEventData),this.scheduleOnce(function(){WAITMGR.hideWaitLayer()},.1)},endScene:function(){MT.AUDIOMGR.playEffect("button"),MT.GLOBAL.loadScene("loginScene")},onButtCommonMode:function(){this.onBuType=1,MT.USER.CustomsSize=0,console.log("\u91d1\u5178\u6a21\u5f0f"),this.endScene()},onBtnSetMode:function(t,e){this.modeType!=Number(e)&&(this.preButton&&(this.preButton.getComponent(cc.Sprite).enabled=!1,this.preButton.getComponent("item").reset()),this.modeType=Number(e),MT.USER.CustomsSize=this.modeType,this.subModel.scrollToPage(n(this.modeType)),this.btnArrowShow(),this.preButton=t.target,this.preButton.getComponent("item").onSelected(),this.preButton.getComponent(cc.Sprite).enabled=!0)},btnArrowShow:function(){this.btnArrowRight.active=5!=this.subModel.getCurrentPageIndex(),this.btnArrowLeft.active=0!=this.subModel.getCurrentPageIndex(),this.subModel.getCurrentPageIndex()>=3?(this.modelScroll.scrollToBottomRight(.5),this.subModel.getCurrentPageIndex()):this.modelScroll.scrollToBottomLeft(.5)},onBtnArrowEvent:function(t,e){t={target:null};var i=null;switch(e){case"left":t.target=this.modelItemsArr[this.subModel.getCurrentPageIndex()-1],i=t.target.getComponent(cc.Button).clickEvents[0].customEventData;break;case"right":t.target=this.modelItemsArr[this.subModel.getCurrentPageIndex()+1],i=t.target.getComponent(cc.Button).clickEvents[0].customEventData;break;default:console.error("\u6309\u94ae\u53c2\u6570\u4e3a\u7a7a")}this.onBtnSetMode(t,i)},onUpdatePage:function(){this.preButton&&(this.preButton.getComponent(cc.Sprite).enabled=!1,this.preButton.getComponent("item").reset()),this.btnArrowShow(),this.preButton=this.modelItemsArr[this.subModel.getCurrentPageIndex()],MT.USER.CustomsSize=Number(this.preButton.getComponent(cc.Button).clickEvents[0].customEventData),this.preButton.getComponent("item").onSelected(),this.preButton.getComponent(cc.Sprite).enabled=!0},onButtTimeMode:function(){this.onBuType=1,MT.USER.CustomsSize=1,console.log("\u9650\u65f6\u6a21\u5f0f"),this.endScene()},onButtDogMode:function(){this.onBuType=1,MT.USER.CustomsSize=2,console.log("\u72c2\u6b22\u6a21\u5f0f"),this.endScene()},onButtSkatingMode:function(){this.onBuType=1,MT.USER.CustomsSize=3,console.log("\u6e9c\u51b0\u6a21\u5f0f"),this.endScene()},onButtNightMode:function(){this.onBuType=1,MT.USER.CustomsSize=4,console.log("\u9ed1\u591c\u6a21\u5f0f"),this.endScene()},onButtTrapMode:function(){this.onBuType=1,MT.USER.CustomsSize=5,console.log("\u9677\u9631\u6a21\u5f0f"),this.endScene()}}),cc._RF.pop()},{}],signTask:[function(t,e,i){"use strict";cc._RF.push(e,"e51d6guWjlIm7AjUBZLUchz","signTask");var n=[1,1,1,2,2,2,3],o=["\u5c0f\u9c7c\u5e72x1","\u5c0f\u9c7c\u5e72x1","\u5c0f\u9c7c\u5e72x1","\u5c0f\u9c7c\u5e72x2","\u5c0f\u9c7c\u5e72x2","\u5c0f\u9c7c\u5e72x2","\u5c0f\u9c7c\u5e72x3"];cc.Class({extends:cc.Component,properties:{itemArr:{default:[],type:cc.Node},bg_red:cc.Node,bg_dark:cc.SpriteFrame,bg_light:cc.SpriteFrame,catArr:{default:[],type:cc.SpriteFrame},btn_receive_spfm:cc.SpriteFrame,btn_receive_dark_spfm:cc.SpriteFrame,tipLayer:cc.Node,txtRewardInfo:cc.Label},onLoad:function(){for(var t=0;t!=this.itemArr.length;t++){var e=Math.floor(7*Math.random());this.itemArr[t].getChildByName("cat").getComponent(cc.Sprite).spriteFrame=this.catArr[e]}this.tipLayer.active=!1},start:function(){},onBtnClose:function(){MT.WXHELPER.showCreateUserInfoButton(),this.node.active=!1},onShow:function(){for(var t=MT.USER.loginDays,e=MT.USER.loginRewardDays,i=0;i!=this.itemArr.length;i++)i==t&&t!=e?(this.itemArr[i].getChildByName("btn_receive").getComponent(cc.Sprite).spriteFrame=this.btn_receive_spfm,this.itemArr[i].getChildByName("btn_receive").active=!0,this.itemArr[i].getChildByName("btn_receive").getComponent(cc.Button).interactable=!0,this.itemArr[i].getChildByName("day").zIndex=10,this.itemArr[i].getChildByName("btn_receive").on("click",this.onBtnGet,this),this.bg_red.parent=this.itemArr[i],this.bg_red.zIndex=0,this.bg_red.position=cc.v2(0,77),this.bg_red.active=!0):(this.itemArr[i].getChildByName("btn_receive").active=!1,this.itemArr[i].getChildByName("btn_receive").getComponent(cc.Button).interactable=!1),i<=e&&(this.itemArr[i].getChildByName("btn_receive").getComponent(cc.Sprite).spriteFrame=this.btn_receive_dark_spfm,this.itemArr[i].getChildByName("btn_receive").active=!0),this.itemArr[i].getChildByName("txtRewardInfo").getComponent(cc.Label).string=o[i];MT.WXHELPER.hideCreateUserInfoButton(),this.node.active=!0;var n=cc.sys.localStorage.getItem("sessionid");if(n&&""!=n);else for(var s=0;s!=this.itemArr.length;s++)this.itemArr[s].getChildByName("btn_receive").active=!1},onBtnGet:function(){MT.USER.loginRewardDays++,MT.USER.SetDataFife("loginRewardDays",MT.USER.loginRewardDays),this.onShow(),this.tipLayer.active=!0,this.tipLayer.getChildByName("FishTwinkle").runAction(cc.blink(1.5,3)),this.txtRewardInfo.string="X"+n[MT.USER.loginDays],MT.USER.DriedFishNum+=n[MT.USER.loginDays],MT.USER.setSave_DriedFishNum()},onBtnHideTipLayer:function(){this.tipLayer.active=!1}}),cc._RF.pop()},{}],subModel:[function(t,e,i){"use strict";cc._RF.push(e,"eb779o+7ixEQab/MeQVQOTM","subModel"),cc.Class({extends:cc.PageView,properties:{},start:function(){}}),cc._RF.pop()},{}],tip:[function(t,e,i){"use strict";cc._RF.push(e,"ae395rugtNGmpDSIHS6gQkT","tip"),cc.Class({extends:cc.Component,properties:{},start:function(){},onShow:function(){this.node.active=!0,this.node.getChildByName("FishTwinkle").runAction(cc.blink(1.5,3))},onHide:function(){this.node.active=!1}}),cc._RF.pop()},{}],trap:[function(t,e,i){"use strict";cc._RF.push(e,"257fabsM5BCSp7yvlMhlRPT","trap"),cc.Class({extends:cc.Component,properties:{time:6,bAction:!1},onLoad:function(){this.bAction=!1},start:function(){this.schedule(this.createAction,1)},startAction:function(){this.bAction=!0;for(var t=0;t!=this.node.children.length;t++)this.node.children[t].getComponent("pitfall").run()},stopAction:function(){this.bAction=!1;for(var t=0;t!=this.node.children.length;t++)this.node.children[t].getComponent("pitfall").stop()},createAction:function(){this.bAction&&(this.time+=1,Math.floor(this.time)%MT.GLOBAL.trapFreshTime==0&&this.createPitfall())},createPitfall:function(){var t=cc.find("Canvas").getComponent("game"),e=cc.instantiate(t._resources[t._pitfall]);e.position=cc.v2(e.width,0),e.group=MT.MazeRecruit_Group.getMazeRecruit_Zoon(),this.node.addChild(e),e.getComponent("pitfall").run()},onDestroy:function(){this.unschedule(this.createAction,this)}}),cc._RF.pop()},{}],user:[function(t,e,n){"use strict";cc._RF.push(e,"97612oQU4pGmI+0y5qspe7v","user");var o={Cat_Skin:0,SkinArr:null,SUBMODEL:null,ComPer:0,TimePer:0,DogPer:0,SkatPer:0,NightPer:0,TrapPer:0,CustomsSize:-1,VideoAndShare:!1,GuanNum:0,Music:!0,Sound:!0,DriedFishNum:0,DriedGetTime:0,DriedGetShareTime:0,DriedGteVideoTime:0,GetMap:function(t,e,i){MT.GLOBAL.MAP=null;var n=this;console.log(t,e,"==========="),cc.loader.loadRes("jsonData/"+t+"/"+e,cc.JsonAsset,function(t,o){t?console.log("\u8bfb\u53d6\u5173\u5361\u6570\u636e\u5931\u8d25"):(MT.GLOBAL.MAP=o.json,n.GuanNum=e,i())})},initGame:function(){this.Cat_Skin=this.GetDataFifeInt(MT.GLOBAL.CONST_TEXT.Cat_Skin,0),this.SkinArr=this.GetDataFifeIntArray(MT.GLOBAL.CONST_TEXT.SkinArr,[1,0,0,0,0,0]),this.ComPer=this.GetDataFifeIntArray(MT.GLOBAL.CONST_TEXT.ComPer,[1,1,1,1,1]),this.TimePer=this.GetDataFifeIntArray(MT.GLOBAL.CONST_TEXT.TimePer,[1,1,1,1,1]),this.DogPer=this.GetDataFifeIntArray(MT.GLOBAL.CONST_TEXT.DogPer,[1,1,1,1,1]),this.SkatPer=this.GetDataFifeIntArray(MT.GLOBAL.CONST_TEXT.SkatPer,[1,1,1,1,1]),this.NightPer=this.GetDataFifeIntArray(MT.GLOBAL.CONST_TEXT.NightPer,[1,1,1,1,1]),this.TrapPer=this.GetDataFifeIntArray(MT.GLOBAL.CONST_TEXT.TrapPer,[1,1,1,1,1]),this.DriedFishNum=this.GetDataFifeInt(MT.GLOBAL.CONST_TEXT.DriedFishNum,3),this.DriedGetTime=this.GetDataFifeInt(MT.GLOBAL.CONST_TEXT.DriedGetTime,0),this.DriedGetShareTime=this.GetDataFifeInt(MT.GLOBAL.CONST_TEXT.DriedGetShareTime,0),this.DriedGteVideoTime=this.GetDataFifeInt(MT.GLOBAL.CONST_TEXT.DriedGteVideoTime,0),this.VideoAndShare=this.GetDataFifeBool(MT.GLOBAL.CONST_TEXT.VideoAndShare,!0),this.Music=this.GetDataFifeBool(MT.GLOBAL.GAME_SETTING.Key_Music,!0),this.Sound=this.GetDataFifeBool(MT.GLOBAL.GAME_SETTING.Key_Sound,!0),this.loginRewardDays=this.GetDataFifeInt("loginRewardDays",-1),this.friendDraw=this.GetDataFifeBool("friendDraw",!0),this.luckyShareCount=this.GetDataFifeInt("luckyShareCount",0),this.loginDays=this.GetDataFifeInt("loginDays",0),this.lastOnlineTime=this.getLastOnlineTime(),this.calcDate()},calcDate:function(){var t=this.lastOnlineTime,e=new Date(Number(t)),i=new Date(Date.now());e.getDate(),i.getDate();this.checkPassDay()&&(this.loginDays=this.loginRewardDays+1,this.SetDataFife("loginDays",this.loginDays),this.passDay()),7==this.loginDays&&(this.loginDays=0,this.SetDataFife("loginDays",this.loginDays),this.loginRewardDays=-1,this.SetDataFife("loginRewardDays",this.loginRewardDays))},passDay:function(){this.friendDraw=!1,this.luckyShareCount=0},checkPassDay:function(){var t=this.lastOnlineTime,e=new Date(t),i=new Date(Date.now()),n=e.getMonth(),o=i.getMonth(),s=e.getDate(),a=i.getDate();return e.getFullYear()<i.getFullYear()||(e.getFullYear()==i.getFullYear()&&n<o||e.getFullYear()==i.getFullYear()&&n==o&&s<a)},initFromServer:function(t){t&&(void 0!=t.Cat_Skin&&(this.Cat_Skin=t.Cat_Skin,this.setSave_Cat_Skin()),void 0!=t.SkinArr&&(this.SkinArr=t.SkinArr,this.setSave_SkinArr()),void 0!=t.ComPer&&(this.ComPer=t.ComPer,this.setSave_ComPer()),void 0!=t.TimePer&&(this.TimePer=t.TimePer,this.setSave_TimePer()),void 0!=t.DogPer&&(this.DogPer=t.DogPer,this.setSave_DogPer()),void 0!=t.SkatPer&&(this.SkatPer=t.SkatPer,this.setSave_SkatPer()),void 0!=t.NightPer&&(this.NightPer=t.NightPer,this.setSave_NightPer()),void 0!=t.TrapPer&&(this.TrapPer=t.TrapPer,this.setSave_TrapPer()),void 0!=t.DriedFishNum&&(this.DriedFishNum=t.DriedFishNum,this.setSave_DriedFishNum()),void 0!=t.DriedGetTime&&(this.DriedGetTime=t.DriedGetTime,this.setSave_DriedGetTime()),void 0!=t.DriedGetShareTime&&(this.DriedGetShareTime=t.DriedGetShareTime,this.setSave_DriedGetShareTime()),void 0!=t.DriedGteVideoTime&&(this.DriedGteVideoTime=t.DriedGteVideoTime,this.setSave_DriedGteVideoTime()),void 0!=t.VideoAndShare&&(this.VideoAndShare=t.VideoAndShare,this.setSave_VideoAndShare()),void 0!=t.Music&&(this.Music=t.Music,this.setSave_Music()),void 0!=t.Sound&&(this.Sound=t.Sound,this.setSave_Sound()),void 0!=t.luckyCount&&(this.luckyCount=t.luckyCount),void 0!=t.luckyShareCount&&(this.luckyShareCount=t.luckyShareCount),void 0!=t.luckyUpTime&&(this.luckyUpTime=t.luckyUpTime),void 0!=t.friendDraw&&(this.friendDraw=t.friendDraw),void 0!=t.loginRewardDays&&(this.loginRewardDays=t.loginRewardDays,this.SetDataFife("loginRewardDays",this.loginRewardDays)),void 0!=t.loginDays&&(this.loginDays=t.loginDays,this.SetDataFife("loginDays",this.loginDays)),void 0!=t.lastOnlineTime&&(this.lastOnlineTime=t.lastOnlineTime,this.setLastOnlineTime(this.lastOnlineTime)),this.calcDate())},saveToServer:function(){this.lastOnlineTime=Date.now(),this.setLastOnlineTime(this.lastOnlineTime);var t=JSON.stringify(this);HttpServer.saveUserData(t)},setLastOnlineTime:function(t){cc.sys.localStorage.setItem("lastOnlineTime",t)},getLastOnlineTime:function(){var t=cc.sys.localStorage.getItem("lastOnlineTime");return"undefined"!=t&&""!=t&&"NaN"!=t&&null!=t||(t=0),t=Number(t)},SetDataFife:function(t,e){cc.sys.localStorage.setItem(t,""+e)},GetDataFifeInt:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=cc.sys.localStorage.getItem(t);return"undefined"!=i&&""!=i&&null!=i&&"NaN"!=i&&(e=parseInt(i)),e},GetDataFifeBool:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=cc.sys.localStorage.getItem(t);return"undefined"!=i&&""!=i&&null!=i&&"NaN"!=i&&"false"==i&&(e=!1),e},GetDataFifeString:function(t){var e="",i=cc.sys.localStorage.getItem(t);return"undefined"!=i&&""!=i&&null!=i&&"NaN"!=i&&(e=i),e},GetDataFifeFloat:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=cc.sys.localStorage.getItem(t);return"undefined"!=i&&""!=i&&null!=i&&"NaN"!=i&&(e=parseFloat(i)),e},GetDataFifeIntArray:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=cc.sys.localStorage.getItem(t);if("undefined"!=i&&""!=i&&null!=i&&"NaN"!=i)for(var n=i.split(","),o=0;o<n.length;o++)e[o]=parseInt(n[o]);return e},getBoolForKey:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"false";return"false"==e||(e=e?"true":"false"),"true"==i(t,e)},getIntForKey:function(t){var e=i(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0);return parseInt(e)},getStringForKey:function(t){return i(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"")},getFloatForKey:function(t){var e=i(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0);return parseFloat(e)},setDataForKey:function(t,e){cc.sys.localStorage.setItem(t,e)},setBoolForKey:function(t,e){e=e?"true":"false",cc.sys.localStorage.setItem(t,e)},setSave_VideoAndShare:function(){this.SetDataFife(MT.GLOBAL.CONST_TEXT.VideoAndShare,MT.USER.VideoAndShare)},setSave_Music:function(){this.SetDataFife(MT.GLOBAL.GAME_SETTING.Key_Music,MT.USER.Music)},setSave_Sound:function(){this.SetDataFife(MT.GLOBAL.GAME_SETTING.Key_Sound,MT.USER.Sound)},setSave_DriedFishNum:function(){this.SetDataFife(MT.GLOBAL.CONST_TEXT.DriedFishNum,MT.USER.DriedFishNum),this.saveToServer()},setSave_Cat_Skin:function(){this.SetDataFife(MT.GLOBAL.CONST_TEXT.Cat_Skin,MT.USER.Cat_Skin)},setSave_SkinArr:function(){this.SetDataFife(MT.GLOBAL.CONST_TEXT.SkinArr,MT.USER.SkinArr)},setSave_ComPer:function(){this.SetDataFife(MT.GLOBAL.CONST_TEXT.ComPer,MT.USER.ComPer)},setSave_TimePer:function(){this.SetDataFife(MT.GLOBAL.CONST_TEXT.TimePer,MT.USER.TimePer)},setSave_DogPer:function(){this.SetDataFife(MT.GLOBAL.CONST_TEXT.DogPer,MT.USER.DogPer)},setSave_SkatPer:function(){this.SetDataFife(MT.GLOBAL.CONST_TEXT.SkatPer,MT.USER.SkatPer)},setSave_NightPer:function(){this.SetDataFife(MT.GLOBAL.CONST_TEXT.NightPer,MT.USER.NightPer)},setSave_TrapPer:function(){this.SetDataFife(MT.GLOBAL.CONST_TEXT.TrapPer,MT.USER.TrapPer)},setSave_DriedGetTime:function(){this.SetDataFife(MT.GLOBAL.CONST_TEXT.DriedGetTime,MT.USER.DriedGetTime)},setSave_DriedGetShareTime:function(){this.SetDataFife(MT.GLOBAL.CONST_TEXT.DriedGetShareTime,MT.USER.DriedGetShareTime)},setSave_DriedGteVideoTime:function(){this.SetDataFife(MT.GLOBAL.CONST_TEXT.DriedGteVideoTime,MT.USER.DriedGteVideoTime)}};e.exports=o,cc._RF.pop()},{}],wallAction:[function(t,e,i){"use strict";cc._RF.push(e,"2a2017Yj5lOjZXqIHhO34Hb","wallAction"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.goalPoint,this.finishPos,this.node.opacity=0},setGoalPoint:function(t){this.goalPoint=t},startAction:function(t,e){this.finishPos=this.node.position;var i=cc.moveTo(t,this.goalPoint.x,this.goalPoint.y),n=cc.fadeIn(t);this.node.runAction(cc.sequence(cc.delayTime(e),cc.spawn(n,i)))},finishAction:function(t,e){var i=cc.moveTo(t,this.finishPos.x,this.finishPos.y),n=cc.fadeOut(t);this.node.runAction(cc.sequence(cc.delayTime(e),cc.spawn(n,i),cc.callFunc(function(){this.deleteSelf()}.bind(this))))},deleteSelf:function(){this.node.destroy()}}),cc._RF.pop()},{}],wxHelper:[function(t,e,i){"use strict";cc._RF.push(e,"637b3C6jPpFKrGoVJVAuqdy","wxHelper");var n={MessageType:cc.Enum({getInfo:0,showVRank:1,showHRank:2,showRandRank:3,hideRank:4}),MessageInfoType:{score:"score"},m_lastShareTime:0,m_title:null,m_query:null,m_imageUrl:null,m_sucCallBack:null,m_failCallBack:null,m_shareCnt:0,clubButton:null,userInfoButton:null,onShowQuery:{},getLaunchOptions:function(){var t=wx.getLaunchOptionsSync();console.log("query11",t.query),!MT.WXHELPER.onShowQuery.prop&&t.query&&(console.log("query22",t.query),MT.WXHELPER.onShowQuery=t.query,t.query.token&&t.query.prop&&(console.log("query33",t.query),HttpServer.saveInvitePlayer()))},showToast:function(t,e){wx.showToast({title:t,icon:"none",duration:e})},showToastWithIcon:function(t,e){wx.showToast({title:t,icon:"success",duration:e})},share:function(t,e,i,n,o,s){this.m_lastShareTime=Date.now(),this.m_title=t,this.m_imageUrl=e,this.m_query=i,this.m_sucCallBack=n,this.m_failCallBack=o,this.m_shareCnt++,s||(s=10),wx.shareAppMessage({title:this.m_title,imageUrl:this.m_imageUrl,query:"token="+cc.sys.localStorage.getItem("sessionid")+"&prop="+s})},resetShareData:function(){this.m_lastShareTime=0,this.m_title=null,this.m_imageUrl=null,this.m_query=null,this.m_sucCallBack=null,this.m_failCallBack=null},wxOnShow:function(){var t=this;wx.onShow(function(e){t.m_lastShareTime>0&&(t.resetShareData(),t.m_sucCallBack&&t.m_sucCallBack()),t.resetShareData()})},showModal:function(t,e,i,n,o){wx.showModal({title:t,content:e,showCancel:i,cancelText:"\u53d6\u6d88",cancelColor:"#000000",confirmText:"\u786e\u5b9a",confirmColor:"#1AAC19",success:function(t){t.confirm?n&&n():t.cancel&&o&&o()},fail:function(){}})},wxNavigateToMiniProgram:function(t,e,i){wx.navigateToMiniProgram({appId:t,path:"",extraData:{},envVersion:"",success:function(t){e&&e()},fail:function(t){console.log("\u6253\u5f00\u5931\u8d252222",t)}})},previewImage:function(){var t=[];t.push(cc.mt.globalData.self_app.kefuma),wx.previewImage({urls:t,current:t[0],success:function(){console.log("success")},fail:function(){console.log("fail")}})},wxPostMessage:function(t,e){wx.getOpenDataContext().postMessage({message:t,infoType:e})},setUserCloudStorage:function(t,e){wx.setUserCloudStorage({KVDataList:[{key:t,value:JSON.stringify({wxgame:{score:e,update_time:Date.now()}})}],success:function(){console.log("\u4e0a\u4f20\u5206\u6570\u6210\u529f",t,e)},fail:function(){console.error("\u7b2c\u4e00\u6b21\u4e0a\u4f20\u5206\u6570\u5931\u8d25")}})},WXGetUserInfo:function(t){wx.getUserInfo({withCredentials:!1,success:function(e){t&&t(e)},fail:function(){console.log("getUserInfo fail"),MT.WXHELPER.createUserInfoButton(t)}})},initSystemInfo:function(){MT.WXHELPER.getSystemInfo()},getSystemInfo:function(){wx.getSystemInfo({success:function(t){MT.GLOBAL.constData.systemInfo=t;var e=1280/(720/t.screenWidth)/t.screenHeight;MT.GLOBAL.constData.screenScale=e}})},createUserInfoButton:function(t){var e=this,i=MT.GLOBAL.constData.systemInfo.screenWidth,n=MT.GLOBAL.constData.systemInfo.screenHeight;this.userInfoButton=wx.createUserInfoButton({type:"image",image:"bg/commonBtn.png",style:{left:(i-186)/2,top:.27*n,width:186,height:185,lineHeight:40,backgroundColor:"#1AAC19",color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:5}}),this.userInfoButton.onTap(function(i){"getUserInfo:ok"==i.errMsg&&(e.userInfoButton.offTap(e),e.userInfoButton.destroy(),t&&(MT.GLOBAL.firstLogin=!0,t(i)))})},hideCreateUserInfoButton:function(){this.userInfoButton&&this.userInfoButton.hide()},showCreateUserInfoButton:function(){this.userInfoButton&&this.userInfoButton.show()},WXLogin:function(t,e,i){wx.login({success:function(n){console.log("login success : ",n.code);var o=MT.GLOBAL.playerInfo,s={};s.js_code=n.code,s.type="maze",s.avatar_url=o.avatarUrl,s.city=o.city,s.province=o.province,s.country=o.country,s.nickName=o.nickName,s.shareuser="",s.prop="0",s.scene="0",s.appid="0",s.channel="",s.shareid="";var a=wx.getLaunchOptionsSync();if(a){if(a.query){var r=a.query;console.log("error  wxlogin",r),r.channel&&(s.channel=r.channel),r.shareuser&&(s.shareuser=r.shareuser,s.prop=r.prop,s.shareid=r.shareid)}a.scene&&(s.scene=a.scene),a.referrerInfo&&a.referrerInfo.appId&&(s.appid=a.referrerInfo.appId)}console.log("start login",s),HttpServer.login(s,t,e,i)},fail:function(t){console.log("\u5fae\u4fe1login\u5931\u8d25"),e&&e()}})},CreateGameClueBtn:function(t,e,i,n){this.clubButton=wx.createGameClubButton({type:"image",image:"bg/clubIcon.png",icon:"white",style:{left:t,top:e,width:43,height:37}})},hideGameClubBtn:function(){this.clubButton&&this.clubButton.hide()},preloadVideo:function(t){var e=this;"2.0.4"<=wx.getSystemInfoSync().SDKVersion?(this.m_videoAd=wx.createRewardedVideoAd({adUnitId:"adunit-4f250ecd0398a4f9"}),this.m_videoAd.onClose(function(t){t.isEnded?(console.log("\u770b\u5e7f\u544a\u6210\u529f"),e.m_RewardADSuccess&&(e.m_RewardADSuccess(),e.clearReawardADHandle())):(console.log("\u4e3b\u52a8\u5173\u95ed\u4e86\u5e7f\u544a"),e.m_RewardADClose&&(e.m_RewardADClose(),e.clearReawardADHandle()))}),this.m_videoAd.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this.m_videoAd.onError(function(t){console.log("videoAd.onError",t.errMsg,t.errCode),e.m_RewardADError&&(e.m_RewardADError(),e.clearReawardADHandle())})):console.log("wx video sdkverison error")},createRewardedVideoAd:function(){var t=this;"2.0.4"<=wx.getSystemInfoSync().SDKVersion&&(this.m_videoAd=wx.createRewardedVideoAd({adUnitId:""}),this.m_videoAd.onClose(function(e){e.isEnded?(console.log("\u770b\u5e7f\u544a\u6210\u529f"),t.m_RewardADSuccess&&(t.m_RewardADSuccess(),t.clearReawardADHandle())):(console.log("\u4e3b\u52a8\u5173\u95ed\u4e86\u5e7f\u544a"),t.m_RewardADClose&&(t.m_RewardADClose(),t.clearReawardADHandle()))}),this.m_videoAd.onError(function(e){console.log("videoAd.onError",e.errMsg,e.errCode),t.m_RewardADError&&(t.m_RewardADError(),t.clearReawardADHandle())}))},showRewardedVideoAd:function(t,e,i){var n=this;this.m_RewardADSuccess=t,this.m_RewardADClose=e,this.m_RewardADError=i,wx.showLoading({title:"\u52a0\u8f7d\u4e2d",mask:!0}),"2.0.4"<=wx.getSystemInfoSync().SDKVersion?this.m_videoAd.load().then(function(){wx.hideLoading(),n.m_videoAd.show()}).catch(function(t){console.log("videoAd.load error",t.errMsg),wx.hideLoading(),n.m_RewardADError&&(n.m_RewardADError(),n.clearReawardADHandle())}):(wx.hideLoading(),this.m_RewardADError&&(this.m_RewardADError(),this.clearReawardADHandle()))},clearReawardADHandle:function(){this.m_RewardADSuccess=null,this.m_RewardADClose=null,this.m_RewardADError=null}};e.exports=n,cc._RF.pop()},{}],wxRank:[function(t,e,i){"use strict";cc._RF.push(e,"a7e2e4x2LFHEp1cQ78vnjZf","wxRank"),cc.Class({extends:cc.Component,properties:{rankPanel:cc.Sprite,line:cc.Node,bg:cc.Node},start:function(){},onGetWXFriendInfo:function(){MT.WXHELPER.wxPostMessage(MT.WXHELPER.MessageType.getInfo,MT.WXHELPER.MessageInfoType.score)},onShowRandRank:function(){var t=this;this.node.active=!1,MT.WXHELPER.wxPostMessage(MT.WXHELPER.MessageType.showRandRank),this.bg.active=!1,this.rankPanel.enabled=!1,this.line.active=!1,setTimeout(function(){t.node&&0==t.node.active&&(t.node.active=!0)},140)},onShowVRank:function(){MT.WXHELPER.wxPostMessage(MT.WXHELPER.MessageType.showVRank),this.rankPanel.enabled=!0,this.bg.active=!0,this.line.active=!0,MT.WXHELPER.hideCreateUserInfoButton(),this.node.active=!0},hide:function(){MT.WXHELPER.showCreateUserInfoButton(),this.node.active=!1}}),cc._RF.pop()},{}]},{},["NewScript","YvesYu_loadingJs","addHint","audioMgr","baseScene","custom","dictionary","GiftBoxJs","OtherAppItemJs","afagou","follow","FriendListAdapter","FriendListView","inviteItem","inviteFriend","moreGame","notice","signTask","tip","wxRank","face","footPrint","game","gameInit","gameOver","getMoreStar","global","WaitMgr","goal","hero","hint","hintAction","item","ListAdapter","ListItem","ListView","login","monster","mt","mtModule","mtPublic","HttpServer","httpLogic","page","pause","pitfall","publicLogin","selection","subModel","trap","user","wallAction","wxHelper"]);
